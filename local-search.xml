<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Linux调试工具入门</title>
    <link href="/2022/04/24/Linux%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7%E5%85%A5%E9%97%A8/"/>
    <url>/2022/04/24/Linux%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="linux调试工具入门"><a class="markdownIt-Anchor" href="#linux调试工具入门"></a> Linux调试工具入门</h1><h2 id="1gcc及其常用操作"><a class="markdownIt-Anchor" href="#1gcc及其常用操作"></a> 1.gcc及其常用操作</h2><h3 id="10-gcc简介"><a class="markdownIt-Anchor" href="#10-gcc简介"></a> 1.0 GCC简介</h3><blockquote><p>官方网址：<a href="https://gcc.gnu.org/">https://gcc.gnu.org/</a></p></blockquote><ul><li>什么是GCC<ul><li>即GNU C Compiler的缩写，但是随着多年的发展，它支持了多种语言，如C、C++、Java等，已经成为了<strong>GNU Compiler Collection</strong>的缩写，也就是整套的编译器套件；GCC支持各种操作系统，可以说是无所不在</li></ul></li><li>gcc与g++的区别？<ul><li>一般编译c程序使用gcc，而编译c<ins>程序时使用g</ins>，g++同时可以兼容gcc，在编译c文件时会自动调用gcc</li></ul></li></ul><h3 id="11-gcc编译常用命令"><a class="markdownIt-Anchor" href="#11-gcc编译常用命令"></a> 1.1 gcc编译常用命令</h3><ul><li><p><strong>基本使用格式</strong>：<code>$ gcc [filename.c] [操作] [输出文件名]</code></p></li><li><p>源文件、目标文件、可执行（目标）文件的区别：</p><ul><li><p>目标文件分为可执行目标文件与可重定位目标文件，如下图所示，hello是可执行目标文件，而hello.o是可重定位目标文件</p><img src="/Users/dcode/Documents/Markdown笔记/img/image-20220423200052663.png" alt="image-20220423200052663" style="zoom:67%;" /></li><li><p>预处理：gcc -E *.c  &gt; *.txt （重定向，把结果输出到某个文件里）</p><ul><li>头文件的引入</li><li>宏的展开</li><li>指令的处理</li></ul></li><li><p>编译：gcc -c *.c</p><ul><li>生成目标文件 （*.obj文件）</li></ul></li><li><p>链接：</p><ul><li>将编译的多个可重定向目标文件、静态库、动态库链接成一个可执行文件</li><li>甚至可以只打包成静态库和动态库，连可执行文件都不生成，如SDK，使用者只能调用函数而不知道源代码</li></ul></li></ul><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/image-20220331191401741.png" alt="image-20220331191401741" style="zoom: 33%;" /></li><li><p><strong>生成可重定位的目标文件</strong>：<code>$ gcc -c main.c</code></p><ul><li>-c代表生成的是可重定位的目标文件，名字为main.o文件</li><li>可重定位指的是对于一个工程想项目而言，可能会有好几个模块文件，将每个模块文件生成可重定位文件后，就可以再将他们一起打包成一个可执行目标文件</li></ul></li><li><p><strong>生成编译的可执行目标文件</strong>：<code>$ gcc -o main.c main.out</code></p><ul><li>-o main.out，mian.out是输出的可执行文件的名字，这个命令一步到位实现了预处理、编译和链接的过程</li><li>main.out对应的是输出的文件名，是一个可执行文件，如果不使用它，编译出来额可执行文件默认为a.out，所以如果编译完后又找不到了文件，直接使用/.a.out即可执行</li><li>生成的文件如果没有执行权限，可以使用<code>sudo chmod +x main.out</code>来增加可执行权限</li></ul></li><li><p><strong>生成汇编文件</strong>：gcc -S 可以生成用于自己查看汇编文件</p></li><li><p>示例：如下图所示，可以通过四行gcc命令将一个c语言文本文件一步步转换成一个可执行文件，当然也可以使用上面的指令一次完成转换</p></li><li><p><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/image-20220423200449447.png" alt="image-20220423200449447" /></p></li><li><p><code>gcc -o0 -m32 -g hello.c hello</code></p><ul><li>此指令使用0表示不使用编译优化，而-m32则是将文件编译成x86-32指令，不加的话在64位机器上会默认使用64位，而g则代表调试信息，表示单步调试</li></ul></li></ul><h2 id="2objdump反汇编工具"><a class="markdownIt-Anchor" href="#2objdump反汇编工具"></a> 2.objdump反汇编工具</h2><h3 id="20objdump简介"><a class="markdownIt-Anchor" href="#20objdump简介"></a> 2.0objdump简介</h3><ul><li>objdump是一种对于二进制文件进行反汇编的工具，对与可重定位文件以及可执行文件都可以使用反汇编工具进行操作</li></ul><h3 id="21常用命令"><a class="markdownIt-Anchor" href="#21常用命令"></a> 2.1常用命令</h3><ul><li><code>objdump -S hello.o&gt;hello1.txt</code>：<ul><li>将动态可执行文件反汇编到txt文件中，如果不加，则直接显示在屏幕上</li><li>-S表示添加源代码，方便理解源程序与ISA指令集之间的关系，建议和gcc中的-g配合使用</li><li>在mac系统下，对-g编译的目标文件使用objdump进行反汇编时，选取.dSYM文件夹中的文件才可以使用-S进行尽可能的展示源代码的操作</li></ul></li><li><code>objdump -S hello&gt;hello2.txt</code></li></ul><h2 id="3gdb调试工具"><a class="markdownIt-Anchor" href="#3gdb调试工具"></a> 3.gdb调试工具</h2><h3 id="30简介"><a class="markdownIt-Anchor" href="#30简介"></a> 3.0简介</h3><ul><li>gdb调试工具用于在terminal中进行代码调试，一般调试过程有6个步骤</li><li>M1芯片的macbook无法使用gdb，is not support</li></ul><h3 id="31使用步骤"><a class="markdownIt-Anchor" href="#31使用步骤"></a> 3.1使用步骤</h3><h4 id="311启动工具"><a class="markdownIt-Anchor" href="#311启动工具"></a> 3.1.1启动工具：</h4><ul><li><strong>gdb + 可执行文件名</strong>：启动gdb调试工具，并且加载可执行文件</li><li><strong>gdb、file + 可执行文件名</strong>：分两步，先启动gdb调试，再加载文件</li></ul><h4 id="312设置断点"><a class="markdownIt-Anchor" href="#312设置断点"></a> 3.1.2设置断点：</h4><ul><li><strong>break main</strong> 在main函数的入口处设置断点</li><li><strong>break filename.c:3</strong> ：在源程序的第三行设置断点</li></ul><h4 id="313启动程序运行"><a class="markdownIt-Anchor" href="#313启动程序运行"></a> 3.1.3启动程序运行：</h4><ul><li><strong>run</strong>：启动程序运行，在断点处会停下来</li></ul><h4 id="314查看程序运行状态信息"><a class="markdownIt-Anchor" href="#314查看程序运行状态信息"></a> 3.1.4查看程序运行状态信息</h4><ul><li><p><strong>断点位置</strong></p><ul><li><code>i r</code> ：显示所有寄存器的内容</li><li><code>i r eip</code>：只显示寄存器eip的内容，可以换成它寄存器的名字从而检查其他寄存器的内容</li><li><code>x/8xb 0xffffd2bc</code>：从0xffffd2bc地址开始，显示8个字节的存储单元内容，并使用十六进制</li><li><code>x/2xw 0xffffd2bc</code>：从0xffffd2bc地址开始，显示2个32位的存储单元内容，并使用十六进制</li></ul></li><li><p><strong>通用寄存器内容</strong></p></li><li><p><strong>存储单元内容</strong></p></li><li><p><strong>栈帧信息</strong>：即保存过程执行中的数据信息，IA-32使用栈来支持过程的嵌套调用，过程的入口参数，返回地址，被保存寄存器的值、被调用过程中的非静态局部变量等都会被保存在栈中。栈是存储器中开辟的一块内存空间，在过程执行中，栈帧的大小是会变化的。</p><ul><li><p>查看当前栈帧范围：<code>i r esp ebp</code>，其中，esp是栈顶指针，ebp是栈底指针</p></li><li><p>当前栈帧字节数：<code>y=R[ebp]-R[esp]+4</code>，之所以+4是因为为了同时把栈顶和底包含进去</p><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/image-20220424153025201.png" alt="image-20220424153025201" style="zoom:50%;" /></li><li><p>显示当前栈帧内容：</p><ul><li><code>x/yxb $esp</code>，这里的y是上面的栈帧字节数，栈帧起始地址是esp指向的单元地址，也就是说栈是自顶向下扫描的；</li><li><code>x/zxw $esp</code>，这里令z=y/4后，就是以四字节为单位进行显示</li></ul></li></ul></li></ul><h4 id="315继续执行下一步指令或者语句"><a class="markdownIt-Anchor" href="#315继续执行下一步指令或者语句"></a> 3.1.5继续执行下一步指令或者语句</h4><ul><li><code>si</code>：执行一条机器指令</li><li><code>s</code>：执行一条c语句</li></ul><h4 id="316退出调试"><a class="markdownIt-Anchor" href="#316退出调试"></a> 3.1.6退出调试</h4><ul><li><code>quit</code>：退出gdb调试</li></ul><h2 id="4makefile的简单使用"><a class="markdownIt-Anchor" href="#4makefile的简单使用"></a> 4.Makefile的简单使用</h2><h3 id="20makefile简介"><a class="markdownIt-Anchor" href="#20makefile简介"></a> 2.0Makefile简介</h3><ul><li>makefile是编译器的辅助工具，大型项目的文件非常多，我们不太可能逐渐编译，一个linux内核源码都会有几千上万的文件，如果只有小量代码，几乎用不到makefile，当文件在100以上才能体现出优越性，普通情况使用集成开发环境进行编译即可</li><li>与linux同属于开源组织GNU</li><li>为啥使用makefile？<ul><li>当项目文件多的时候，需要一个个去<code>gcc -c</code>生成多个.o的文件，可以说是比较麻烦</li></ul></li></ul><h3 id="21简单makefile编写"><a class="markdownIt-Anchor" href="#21简单makefile编写"></a> 2.1简单makefile编写</h3><ul><li><p>编写步骤：</p><ul><li>按照最终文件、目标文件、源文件的顺序写，与实际的预处理、编译、链接是倒着的</li><li>注意缩进是4个空格，像python那样严格要求的</li></ul></li><li><p>示例：编写一个文件名叫做makefile的文件</p><figure class="highlight makefile"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><pre><code class="hljs makefile">// 目标可执行文件：被链接的文件🔗<br><span class="hljs-section">final_app.exe:main.o file_a.o file_b.o</span><br>    gcc main.o file_a.o file_b.o -o final_app.exe<br><span class="hljs-section">main.o:main.c</span><br>    gcc -c main.c -o main.o<br><span class="hljs-section">file_a.o:file_a.c</span><br>    gcc -c file.c -o file_a.o<br><span class="hljs-section">file_b.o:file_b.c</span><br>    gcc -c file_b.c -o file_b.o<br></code></pre></td></tr></table></figure></li><li><p>在编写好makefile文件后，保存在工作目录，使用命令：<code>make</code>就可以进行自动化编译了</p></li><li><p>为了方便清理目标文件，可在上面的makefile文件中继续添加：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">clean:</span><br>    rm -f *.o final_app.exe<br></code></pre></td></tr></table></figure><p>保存后再进行执行：<code>make clean</code>就可以</p></li></ul><h3 id="22快速makefile编写"><a class="markdownIt-Anchor" href="#22快速makefile编写"></a> 2.2快速makefile编写</h3><ul><li><p>上面的makefile文件还是编写起来太过于繁琐，所以采用更快捷的编写方式：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">final_app.exe:main.o file_a.o file_b.o</span><br>    gcc *.o -o <span class="hljs-variable">$@</span><br><span class="hljs-section">%.o:%.c</span><br>    gcc -c <span class="hljs-variable">$&lt;</span> -o <span class="hljs-variable">$@</span><br><span class="hljs-section">clean:</span><br>    rm -f *.o final_app.exe<br></code></pre></td></tr></table></figure><p>上面的方式主要是使用了通配符表示多个文件，类似于正则表达式</p><ul><li>*是代表任意个任意字符</li><li>$@表示目标</li><li>$&lt;表示一个个去匹配依赖</li></ul></li></ul><blockquote><p>参考：</p><ul><li><a href="https://www.bilibili.com/video/BV1Rp4y1i7SZ?share_source=copy_web">https://www.bilibili.com/video/BV1Rp4y1i7SZ?share_source=copy_web</a></li><li>南京大学《计算机系统基础（四）》</li></ul></blockquote>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gcc</tag>
      
      <tag>makefile</tag>
      
      <tag>gdb</tag>
      
      <tag>objdump</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>初始化文件__init__.py的使用</title>
    <link href="/2022/04/12/%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%87%E4%BB%B6__init__.py%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/04/12/%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%87%E4%BB%B6__init__.py%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="_init_py的使用"><a class="markdownIt-Anchor" href="#_init_py的使用"></a> _<em>init</em>_.py的使用</h1><h2 id="1简介"><a class="markdownIt-Anchor" href="#1简介"></a> 1.简介</h2><ul><li>在python3.3之前，如果在文件夹中不加这个文件，那么直接从文件中导入模块是不行的，也就是说只能从带_<em>init</em>_.py的文件夹中导入模块，因为只有带了才是被识别为Package，但是在3.3之后没有它也可以导入</li><li><strong>特性</strong>：在我们导入某个包（文件夹📁）中的任意模块（.py文件📃）时这个初始化文件是会被首先执行的，比如下面的src中的douban_spider.py中的某个函数func1被其他的文件导入时，会先执行在_<em>init</em>_.py的代码</li></ul><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/image-20220412222600574.png" alt="image-20220412222600574" style="zoom:50%;" /><h2 id="2使用"><a class="markdownIt-Anchor" href="#2使用"></a> 2.使用</h2><h3 id="21简化模块中函数的导入"><a class="markdownIt-Anchor" href="#21简化模块中函数的导入"></a> 2.1简化模块中函数的导入</h3><ul><li><p>当我们在一个包中有很多模块文件时，我们的初心是使用各个模块中的函数，并不想记录模块的文件名，希望只用记忆包名就能使用模块中的函数时，可以在此文件中先逐层import一下，后面就可以在自己的代码中简化导入了，比如：</p><ul><li><p>_<em>init</em>_.py</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pack_A.module_a <span class="hljs-keyword">import</span> func_1  <span class="hljs-comment"># 提前初始化导入</span><br></code></pre></td></tr></table></figure></li><li><p><a href="http://main.py">main.py</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pack_A <span class="hljs-keyword">import</span> func_1  <span class="hljs-comment"># 使用中会方便一些</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><h3 id="22设置package中的模块导入范围"><a class="markdownIt-Anchor" href="#22设置package中的模块导入范围"></a> 2.2设置package中的模块导入范围</h3><ul><li>_<em>init</em>_.py</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">__all__ = [<span class="hljs-string">&#x27;pack_A&#x27;</span>]  <span class="hljs-comment"># 设置后导入整包后，只有这一个模块能被使用</span><br></code></pre></td></tr></table></figure><h3 id="23利用初始化文件先被执行的特性"><a class="markdownIt-Anchor" href="#23利用初始化文件先被执行的特性"></a> 2.3利用初始化文件先被执行的特性</h3><ul><li>通过使用初始化文件，可以在文件中编写一些代码，这些代码会在每次导入包时被执行，比如写一些提示信息之类</li></ul><h3 id="24使用其写一些全局方法"><a class="markdownIt-Anchor" href="#24使用其写一些全局方法"></a> 2.4使用其写一些全局方法</h3><ul><li><p>可以直接在这个初始化模块中写一些函数，这些函数可以直接在导入包后直接被调用（仍然是使用module.func格式）</p></li><li><p>_<em>init</em>_.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello</span>():</span><br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)<br></code></pre></td></tr></table></figure><p><a href="http://main.py">main.py</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pack_A<br>pack_A.hello()<br><br>---<br>输出：hello<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GCC与makefile入门</title>
    <link href="/2022/04/02/GCC%E7%BC%96%E8%AF%91%E4%B8%8EMakefile/"/>
    <url>/2022/04/02/GCC%E7%BC%96%E8%AF%91%E4%B8%8EMakefile/</url>
    
    <content type="html"><![CDATA[<h1 id="gcc与makefile简介"><a class="markdownIt-Anchor" href="#gcc与makefile简介"></a> GCC与Makefile简介</h1><h2 id="1gcc及其常用操作"><a class="markdownIt-Anchor" href="#1gcc及其常用操作"></a> 1.GCC及其常用操作</h2><h3 id="10-gcc简介"><a class="markdownIt-Anchor" href="#10-gcc简介"></a> 1.0 GCC简介</h3><blockquote><p>官方网址：<a href="https://gcc.gnu.org/">https://gcc.gnu.org/</a></p></blockquote><ul><li>什么是GCC<ul><li>即GNU C Compiler的缩写，但是随着多年的发展，它支持了多种语言，如C、C++、Java等，已经成为了<strong>GNU Compiler Collection</strong>的缩写，也就是整套的编译器套件；GCC支持各种操作系统，可以说是无所不在</li></ul></li><li>gcc与g++的区别？<ul><li>一般编译c程序使用gcc，而编译c<ins>程序时使用g</ins>，g++同时可以兼容gcc，在编译c文件时会自动调用gcc</li></ul></li></ul><h3 id="11-gcc编译常用命令"><a class="markdownIt-Anchor" href="#11-gcc编译常用命令"></a> 1.1 GCC编译常用命令</h3><ul><li><p><strong>基本使用格式</strong>：<code>$ gcc [filename.c] [操作]</code></p></li><li><p>源文件、目标文件、可执行文件的区别：</p><ul><li>预处理：gcc -E *.c  &gt; *.txt （重定向，把结果输出到某个文件里）<ul><li>头文件的引入</li><li>宏的展开</li><li>指令的处理</li></ul></li><li>编译：gcc -c *.c<ul><li>生成目标文件 （*.obj文件）</li></ul></li><li>链接：<ul><li>将编译的多个目标文件、静态库、动态库链接成一个可执行文件</li><li>甚至可以只打包成静态库和动态库，连可执行文件都不给，如SDK，使用者只能调用函数而不知道源代码</li></ul></li></ul><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/image-20220331191401741.png" alt="image-20220331191401741" style="zoom: 33%;" /></li><li><p><strong>生成目标文件</strong>：<code>$ gcc -c main.c</code></p><ul><li>-c代表生成的是目标文件，名字为main.o文件</li></ul></li><li><p><strong>生成编译的可执行文件</strong>：<code>$ gcc -o main.c main.out</code></p><ul><li>-o main.out，mian.out是输出的可执行文件的名字，这个命令一步到位实现了预处理、编译和链接的过程</li><li>main.out对应的是输出的文件名，是一个可执行文件，如果不使用它，编译出来额可执行文件默认为a.out，所以如果编译完后又找不到了文件，直接使用/.a.out即可执行</li><li>生成的文件如果没有执行权限，可以使用<code>sudo chmod +x main.out</code>来增加可执行权限</li></ul></li><li><p><strong>生成汇编文件</strong>：gcc -S 可以生成用于自己查看汇编文件</p></li></ul><h2 id="2makefile的简单使用"><a class="markdownIt-Anchor" href="#2makefile的简单使用"></a> 2.Makefile的简单使用</h2><h3 id="20makefile简介"><a class="markdownIt-Anchor" href="#20makefile简介"></a> 2.0Makefile简介</h3><ul><li>makefile是编译器的辅助工具，大型项目的文件非常多，我们不太可能逐渐编译，一个linux内核源码都会有几千上万的文件，如果只有小量代码，几乎用不到makefile，当文件在100以上才能体现出优越性，普通情况使用集成开发环境进行编译即可</li><li>与linux同属于开源组织GNU</li><li>为啥使用makefile？<ul><li>当项目文件多的时候，需要一个个去<code>gcc -c</code>生成多个.o的文件，可以说是比较麻烦</li></ul></li><li>我们在一些集成开发环境中的makefile是通过cmake生成的，不用直接写makefile</li></ul><h3 id="21简单makefile编写"><a class="markdownIt-Anchor" href="#21简单makefile编写"></a> 2.1简单makefile编写</h3><ul><li><p>编写步骤：</p><ul><li>按照最终文件、目标文件、源文件的顺序写，与实际的预处理、编译、链接是倒着的</li><li>注意缩进是4个空格，像python那样严格要求的</li></ul></li><li><p>示例：编写一个文件名叫做makefile的文件</p><figure class="highlight makefile"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><pre><code class="hljs makefile">// 目标可执行文件：被链接的文件🔗<br><span class="hljs-section">final_app.exe:main.o file_a.o file_b.o</span><br>    gcc main.o file_a.o file_b.o -o final_app.exe<br><span class="hljs-section">main.o:main.c</span><br>    gcc -c main.c -o main.o<br><span class="hljs-section">file_a.o:file_a.c</span><br>    gcc -c file.c -o file_a.o<br><span class="hljs-section">file_b.o:file_b.c</span><br>    gcc -c file_b.c -o file_b.o<br></code></pre></td></tr></table></figure></li><li><p>在编写好makefile文件后，保存在工作目录，使用命令：<code>make</code>就可以进行自动化编译了</p></li><li><p>为了方便清理目标文件，可在上面的makefile文件中继续添加：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">clean:</span><br>    rm -f *.o final_app.exe<br></code></pre></td></tr></table></figure><p>保存后再进行执行：<code>make clean</code>就可以</p></li></ul><h3 id="22快速makefile编写"><a class="markdownIt-Anchor" href="#22快速makefile编写"></a> 2.2快速makefile编写</h3><ul><li><p>上面的makefile文件还是编写起来太过于繁琐，所以采用更快捷的编写方式：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">final_app.exe:main.o file_a.o file_b.o</span><br>    gcc *.o -o <span class="hljs-variable">$@</span><br><span class="hljs-section">%.o:%.c</span><br>    gcc -c <span class="hljs-variable">$&lt;</span> -o <span class="hljs-variable">$@</span><br><span class="hljs-section">clean:</span><br>    rm -f *.o final_app.exe<br></code></pre></td></tr></table></figure><p>上面的方式主要是使用了通配符表示多个文件，类似于正则表达式</p><ul><li>*是代表任意个任意字符</li><li>$@表示目标</li><li>$&lt;表示一个个去匹配依赖</li></ul></li></ul><blockquote><p>本文参考视频：<a href="https://www.bilibili.com/video/BV1Rp4y1i7SZ?share_source=copy_web">https://www.bilibili.com/video/BV1Rp4y1i7SZ?share_source=copy_web</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gcc</tag>
      
      <tag>makefile</tag>
      
      <tag>g++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python中哈希与不可哈希的探究</title>
    <link href="/2022/03/23/Python%E4%B8%AD%E5%93%88%E5%B8%8C%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%93%88%E5%B8%8C%E7%9A%84%E6%8E%A2%E7%A9%B6/"/>
    <url>/2022/03/23/Python%E4%B8%AD%E5%93%88%E5%B8%8C%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%93%88%E5%B8%8C%E7%9A%84%E6%8E%A2%E7%A9%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="python中哈希与不可哈希的探究"><a class="markdownIt-Anchor" href="#python中哈希与不可哈希的探究"></a> Python中哈希与不可哈希的探究</h1><h2 id="1可变与不可变"><a class="markdownIt-Anchor" href="#1可变与不可变"></a> 1.可变与不可变</h2><ul><li>可变和不可变：同一内存指向的内容是否可以改变</li><li>不可变类型：int、str、float、tuple</li><li>可变：set、list、dict</li></ul><h2 id="2哈希与不可哈希"><a class="markdownIt-Anchor" href="#2哈希与不可哈希"></a> 2.哈希与不可哈希</h2><ul><li><p>可以简单理解为是否可以使用哈希查找进行访问的对象</p></li><li><p>python中官方文档给出解释是：</p></li></ul><blockquote><p>如果一个对象在其生命周期内有一个固定不变的哈希值 (这需要__hash__()方法) 且可以与其他对象进行比较操作 (这需要__eq__()方法) ，那么这个对象就是可哈希对象 (hashable) 。可哈希对象必须有相同的哈希值才算作相等。</p></blockquote><h2 id="3在一组元素中去除重复并保留原始顺序"><a class="markdownIt-Anchor" href="#3在一组元素中去除重复并保留原始顺序"></a> 3.在一组元素中去除重复并保留原始顺序</h2><p>起因是在处理材料科学文本挖掘课题的文本去重问题，脚本很好写：</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete_duplication</span>():</span><br>    a = []<br>    number = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;raw.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:<br>            number = number + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> line <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> a:<br>                a.append(line)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">continue</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;原始文本中共有<span class="hljs-subst">&#123;number&#125;</span>行，除重后剩余<span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(a)&#125;</span>行&#x27;</span>)<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;result.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)):<br>            f.write(a[i])<br></code></pre></td></tr></table></figure><p>但是发现《Python CookBook》中恰好有这个处理的例子，使用了生成器进行去重，优点是：</p><ul><li>节省存储空间，generator在不运行读取元素时不占用内存</li><li>方便代码复用</li></ul><p>现在将书中给出代码进行解构:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">items = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dedupe</span>(<span class="hljs-params">items</span>):</span><br>    seen = <span class="hljs-built_in">set</span>()<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-keyword">if</span> item <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> seen:<br>            seen.add(item)<br>            <span class="hljs-keyword">yield</span> item<br></code></pre></td></tr></table></figure><p>被迭代的是列表，而列表中的元素是<strong>int</strong>型，是可哈希的，所以就可以进行<code>for item in items</code>语句查找</p><p>但是如果<strong>iterable</strong>(本例中是列表)中的元素不是<strong>int</strong>型，是不可哈希的<strong>list</strong>或者<strong>dict</strong>，我们就需要写一个函数进行转化，转化后再进行生成器操作：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">b = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">9</span>]]<br>c = [&#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">3</span>&#125;, &#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">4</span>&#125;]<br></code></pre></td></tr></table></figure><p>以上这种<strong>iterable</strong>就无法进行哈希查找，也就无法用<code>for item in items</code>语句进行check，写个转化的函数传入key参数，可以保障不可哈希元素的生成与匹配：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dedupe_2</span>(<span class="hljs-params">items, key=<span class="hljs-literal">None</span></span>):</span>  <span class="hljs-comment"># 如果被迭代对象中的元素是列表、字典等不可哈希的类型，要设置key参数</span><br>    seen = <span class="hljs-built_in">set</span>()<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-comment"># print(type(item)) ==&gt; list型</span><br>        <span class="hljs-comment"># 如果没有设置转化的函数key，就直接等于item，若有转化函数，就等于转化后的类型</span><br>        val = item <span class="hljs-keyword">if</span> key <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> key(item)  <span class="hljs-comment"># 用val获取item值变为tuple不可变类型</span><br>        <span class="hljs-comment"># print(type(val))  ==&gt; tuple型</span><br>        <span class="hljs-keyword">if</span> val <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> seen:  <span class="hljs-comment"># 说白了就是这个in导致的必须可哈希元素才能判断是不是in seen</span><br>            <span class="hljs-keyword">yield</span> item<br>            seen.add(val)<br><span class="hljs-comment"># 写个匿名函数进行转换，优雅又方便，传入一个字典dict，把它的两种键对应的值转成tuple</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(dedupe_2(c, key=<span class="hljs-keyword">lambda</span> d: (d[<span class="hljs-string">&#x27;x&#x27;</span>], d[<span class="hljs-string">&#x27;y&#x27;</span>]))))<br></code></pre></td></tr></table></figure><p>搞明白生成器以及哈希与否后，尝试重写去重源码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete_duplication3</span>():</span><br>    file_result = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;result.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;raw.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> delete(f):  <span class="hljs-comment"># 通过生成器进行迭代</span><br>            file_result.write(i)<br>        f.seek(<span class="hljs-number">0</span>)  <span class="hljs-comment"># 打开文件只能读取一遍，要把指针重定位到头部才可以第二次遍历</span><br>        number_init = <span class="hljs-built_in">len</span>(f.readlines())  <span class="hljs-comment"># 获取行数</span><br>    file_result.close()  <span class="hljs-comment"># 必须关闭文件，不然后面再以只读模式读取行数时会读出错误数字</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;result.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> file_result_read:<br>        number_end = <span class="hljs-built_in">len</span>(file_result_read.readlines())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;原始文本中共有<span class="hljs-subst">&#123;number_init&#125;</span>行，除重后剩余<span class="hljs-subst">&#123;number_end&#125;</span>行&#x27;</span>)<br></code></pre></td></tr></table></figure><p>代码并没有变短，但是在复用性方面还是有优势的，同时还补了一些文件读取的知识，比如<code>open</code>操作得到文件后只能读一遍，指针回到文件初始行的办法是使用<code>filename.seek(0)</code>语句</p><h2 id="4回顾yield关键字"><a class="markdownIt-Anchor" href="#4回顾yield关键字"></a> 4.回顾yield关键字</h2><ul><li>函数中出现<strong>yield</strong>关键字后，函数本身就成了一个生成器，<strong>yield</strong>本身意思是：产生、生产</li><li>使用生成器产生元素的两种手段：<ul><li>使用<code>for</code>循环进行迭代</li><li>使用<code>next()</code>方法</li></ul></li></ul><p>当然，也可以使用小括号直接创建一个生成器：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">G = ( x*<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(G))  <span class="hljs-comment">#生成结果证明G是一个generator</span><br><span class="hljs-comment">#&lt;class &#x27;generator&#x27;&gt;</span><br></code></pre></td></tr></table></figure><p>好处是以后随用随取，且代码复用性好，需要注意的是，第二次调用next的时候，生成器并不会从函数的开始执行，只是接着上一步停止的地方开始，然后遇到yield后，return出要生成的数，此步就结束，但是比如在一个<code>for</code>循环体中<code>yield</code>所在行之后出现的语句，是会执行完的，只是这个返回值是卡在<code>yield</code>步骤，类似<code>return</code></p><ul><li><p>对于生成器而言，next方法必须要在括号内传入生成器而非函数头</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 先定义一个生成器</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">gen1</span>():</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>):<br>        <span class="hljs-keyword">yield</span> i<br>        <span class="hljs-built_in">print</span>(i*<span class="hljs-number">10</span>)<br><span class="hljs-comment"># 尝试使用next()方法</span><br><span class="hljs-comment"># 错误用法,会报TypeError: &#x27;function&#x27; object is not an iterator</span><br><span class="hljs-built_in">next</span>(gen1)<br><span class="hljs-comment"># 方法的正确用法</span><br><span class="hljs-built_in">next</span>(gen1())<br></code></pre></td></tr></table></figure></li></ul><h2 id="5使用生成器处理小数学问题"><a class="markdownIt-Anchor" href="#5使用生成器处理小数学问题"></a> 5.使用生成器处理小数学问题</h2><p>数学中有一个恒等式，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><msup><mn>1</mn><mn>3</mn></msup><mo>+</mo><msup><mn>2</mn><mn>3</mn></msup><mo>+</mo><msup><mn>3</mn><mn>3</mn></msup><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msup><mi>n</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">(1 + 2 + 3 + ... + n)^2 = 1^3 + 2^3 + 3^3 + ... + n^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>，现在，我们来验证一下这个公式的正确性。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 先定义一个生成器</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generator</span>(<span class="hljs-params">k</span>):</span><br>    i = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">yield</span> i ** k<br>        i += <span class="hljs-number">1</span><br><br>gen_1 = generator(<span class="hljs-number">1</span>)<br>gen_3 = generator(<span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(gen_1)<br><span class="hljs-built_in">print</span>(gen_3)<br><br><span class="hljs-comment"># 定义求和函数</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_sum</span>(<span class="hljs-params">n</span>):</span><br>    sum_1, sum_3 = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        next_1 = <span class="hljs-built_in">next</span>(gen_1)<br>        next_3 = <span class="hljs-built_in">next</span>(gen_3)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;next_1 = &#123;&#125;, next_3 = &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(next_1, next_3))<br>        sum_1 += next_1<br>        sum_3 += next_3<br>    <span class="hljs-comment"># 对比一下两种求和方式</span><br>    <span class="hljs-built_in">print</span>(sum_1 * sum_1, sum_3)<br><br>get_sum(<span class="hljs-number">8</span>)<br><br><span class="hljs-comment">########## 输出 ##########</span><br><br>&lt;generator <span class="hljs-built_in">object</span> generator at <span class="hljs-number">0x000001E70651C4F8</span>&gt;<br>&lt;generator <span class="hljs-built_in">object</span> generator at <span class="hljs-number">0x000001E70651C390</span>&gt;<br>next_1 = <span class="hljs-number">1</span>, next_3 = <span class="hljs-number">1</span><br>next_1 = <span class="hljs-number">2</span>, next_3 = <span class="hljs-number">8</span><br>next_1 = <span class="hljs-number">3</span>, next_3 = <span class="hljs-number">27</span><br>next_1 = <span class="hljs-number">4</span>, next_3 = <span class="hljs-number">64</span><br>next_1 = <span class="hljs-number">5</span>, next_3 = <span class="hljs-number">125</span><br>next_1 = <span class="hljs-number">6</span>, next_3 = <span class="hljs-number">216</span><br>next_1 = <span class="hljs-number">7</span>, next_3 = <span class="hljs-number">343</span><br>next_1 = <span class="hljs-number">8</span>, next_3 = <span class="hljs-number">512</span><br><span class="hljs-number">1296</span> <span class="hljs-number">1296</span><br></code></pre></td></tr></table></figure><p>那么使用生成器验证这个公式的好处是什么？不用把每个元素都加载出来，节省读取所需要的内存</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>生成器</tag>
      
      <tag>哈希</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>conda常用指令</title>
    <link href="/2022/03/11/conda%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E(%E5%90%AB%E5%AE%9E%E4%BE%8B)/"/>
    <url>/2022/03/11/conda%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E(%E5%90%AB%E5%AE%9E%E4%BE%8B)/</url>
    
    <content type="html"><![CDATA[<h1 id="conda使用积累"><a class="markdownIt-Anchor" href="#conda使用积累"></a> conda使用积累</h1><h2 id="0注意"><a class="markdownIt-Anchor" href="#0注意"></a> 0.注意</h2><p>在使用下面的大部分指令时，环境应在<code>AnacondaPrompt</code>终端或者Mac终端下进行指令</p><h2 id="1用anaconda更新或者下载包"><a class="markdownIt-Anchor" href="#1用anaconda更新或者下载包"></a> 1.用anaconda更新或者下载包</h2><h3 id="10更新"><a class="markdownIt-Anchor" href="#10更新"></a> 1.0更新</h3><ul><li><code>pip list</code> 查看已经安装的包列表</li><li><code>pip list --outdated</code></li><li><code>pip install --upgrade library_name</code></li><li>进入自己的虚拟模块时要用<code>activate name</code></li></ul><h3 id="11使用清华源下载第三方库"><a class="markdownIt-Anchor" href="#11使用清华源下载第三方库"></a> 1.1使用清华源下载第三方库</h3><p>比如：<code>pip install tensorflow==2.1 -i https://pypi.tuna.tsinghua.edu.cn/simple</code></p><p>从<code>-i</code>部分直接加在日常指令之后即可,如果更换过源，即可不必每次都指定源路径</p><h2 id="2对conda的基本掌握"><a class="markdownIt-Anchor" href="#2对conda的基本掌握"></a> 2.对conda的基本掌握：</h2><h3 id="21基本操作"><a class="markdownIt-Anchor" href="#21基本操作"></a> 2.1基本操作</h3><ul><li>升级全部库：  <code>conda upgrade --all</code></li><li>升级一个包  <code>conda update packagename</code></li><li>安装包：<code>conda install packagename</code></li><li>也可以以空格分开包名安装多个包：   <code>conda installl numpy pandas scipy</code></li><li>安装固定版本的包：<code>conda install numpy =1.10</code></li><li>移除一个包：<code>conda remove packagename</code></li><li>查看所有包：<code>conda list</code></li></ul><h3 id="22管理python环境"><a class="markdownIt-Anchor" href="#22管理python环境"></a> 2.2管理python环境</h3><ul><li>创建虚拟环境：<code>conda create -n env_name list of packagenaem</code><br /><code>eg: conda create -n env_name pandas</code></li><li>指定python版本：<code>conda create -n env_name python2 = 2.7 pandas</code></li><li>激活环境： <code>activate env_name</code></li><li>退出环境 :  <code>conda deactivate</code></li><li>删除虚拟环境：<code>conda env remove -n env_name</code></li><li>显示所有虚拟环境：<code>conda env list</code></li><li>conda 创建的虚拟环境是在anaconda安装目录下的evens下，所以使用pycharm，只要在特定项目配置运行环境就可以了</li><li>关闭打开终端时默认进入base环境：<code>conda config --set auto_activate_base false</code></li><li>查询已安装环境<code>conda info --envs</code></li></ul><h2 id="3使用jupyter-notebook"><a class="markdownIt-Anchor" href="#3使用jupyter-notebook"></a> 3使用jupyter notebook</h2><h4 id="30在环境下安装jupyter-notebook"><a class="markdownIt-Anchor" href="#30在环境下安装jupyter-notebook"></a> 3.0在环境下安装jupyter notebook</h4><ul><li><p>激活对应环境</p></li><li><p><code>conda install packagename</code></p></li></ul><h4 id="31日常使用"><a class="markdownIt-Anchor" href="#31日常使用"></a> 3.1日常使用</h4><ul><li>cd进入到jupyter项目文件之中</li><li>激活对应conda环境：<code>activate env_name</code></li><li>打开jupyter notebook：<code>jupyter notebook</code></li><li>跳转浏览器，开始编程</li></ul><h4 id="32安装工具扩展"><a class="markdownIt-Anchor" href="#32安装工具扩展"></a> 3.2安装工具扩展🔧</h4><ul><li><code>pip3 install jupyter_contrib_nbextensions</code> 安装扩展包</li><li>在jupyter界面安装扩展（在conda的安装了jupyter的环境下才可以），无权限时可以加sudo<ul><li><code>jupyter contrib nbextension install</code></li></ul></li><li>常用扩展工具介绍见：<a href="https://mp.weixin.qq.com/s/uWjJOgsnEMzzaOBAzgKkGw">https://mp.weixin.qq.com/s/uWjJOgsnEMzzaOBAzgKkGw</a></li></ul><h4 id="33切换book中的python内核环境"><a class="markdownIt-Anchor" href="#33切换book中的python内核环境"></a> 3.3切换book中的python内核环境</h4><ul><li><p>安装插件：</p><figure class="highlight shell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs shell">conda install nb_conda<br></code></pre></td></tr></table></figure></li><li><p>启动jupyter后新建book就可以选择conda中不同环境了，从而使用不同内核</p></li></ul><h4 id="34后台挂起jupyter服务"><a class="markdownIt-Anchor" href="#34后台挂起jupyter服务"></a> 3.4后台挂起Jupyter服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">nohup jupyter notebook //后台挂起运行jupyter，默认是8888本地端口，关闭终端后也可访问<br>jupyter notebook list //展示当前的jupyter进程<br>jupyter notebook stop 8888  //关闭8888端口的jupyter进程服务<br></code></pre></td></tr></table></figure><h2 id="4安装环境的实际记录"><a class="markdownIt-Anchor" href="#4安装环境的实际记录"></a> 4.安装环境的实际记录</h2><h3 id="41安装d2l遇见的坑"><a class="markdownIt-Anchor" href="#41安装d2l遇见的坑"></a> 4.1安装d2l遇见的坑</h3><blockquote><p>在使用d2l的包时，出现了jupyter notebook内核反复挂掉的情况，故卸载forge换成conda</p><p>结果选择py3.9时，work了</p></blockquote><ul><li>使用conda新建d2l虚拟环境</li><li>安装python<ul><li>通过本次案例发现，3.8版本的python去安装d2l是会出现编译的问题，所以以后出现问题可以从这里解决，或许更高版本的python就解决了</li></ul></li><li>安装：d2l, torch, torchvision</li><li>安装：nb_conda，用于切换jupyter的内核（3.10版本不知为何下载失败）</li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Anaconda</tag>
      
      <tag>d2l</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>西瓜书 04章 决策树</title>
    <link href="/2022/01/23/%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%86%B3%E7%AD%96%E6%A0%91/"/>
    <url>/2022/01/23/%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%86%B3%E7%AD%96%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h2 id="41决策树及其构建基本流程"><a class="markdownIt-Anchor" href="#41决策树及其构建基本流程"></a> 4.1决策树及其构建基本流程</h2><ul><li>用途：根据树形结构，从训练集中学习到一个合适的分支结构，用于对新示例进行分类。目前主流的应用是在集成学习中构建多棵决策树形成森林使用，在西瓜书🍉第八章有介绍。</li><li>算法原理：<ul><li>逻辑上：通过判断语句不断筛选分类</li><li>几何上：不断在空间中筛选特征，划分特征空间</li><li>目的：将样本分成越来越“纯”的子集</li></ul></li><li>决策树的执行是递归过程，返回条件有三种：<ul><li>当前节点中的样本全部属于同一类别，无需划分，即全是好瓜or坏瓜，不用再往下递归子树了</li><li>当前结点包含的样本均属于同一属性，不可划分；或当前属性集为空</li><li>当前节点包含的样本集合为空，不可划分</li></ul></li></ul><blockquote><p>P1：其中，叶结点对应第2种情况，我们把这个叶结点的类别设为所含样本最多的类别；第3种情况对应的也是把当前结点标记为叶结点，但是将其类别设置为其父结点所含样本最多的类别，其中2是当前结点的后验分布，3是后验概率。</p></blockquote><ul><li>理解P1：</li></ul><h2 id="42划分选择"><a class="markdownIt-Anchor" href="#42划分选择"></a> 4.2划分选择</h2><blockquote><p>容易发现，构建一个高效的决策树关键是需要选择最好的划分属性，即决策树中从根结点往下的每个判断结点的位置/顺序安排，而如何量化衡量一颗决策树的效率，则需要定义一些量进行计算。</p></blockquote><h3 id="4121信息增益"><a class="markdownIt-Anchor" href="#4121信息增益"></a> 4.1.2.1信息增益</h3><ul><li><p>信息熵</p><ul><li>用于表示信息的混乱程度，度量样本的集合纯度，即每个集合中的样本特征一致性越好，熵值越低，越有序，对应的集合划分也是更纯的，信息熵的计算公式如下：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mo stretchy="false">∣</mo><mi>y</mi><mo stretchy="false">∣</mo></mrow></munderover><msub><mi>p</mi><mi>k</mi></msub><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">Ent(D)=-\sum_{k=1}^{\lvert{y}\rvert}p_klog_2p_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2631180000000004em;vertical-align:-1.302113em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">∣</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span><span class="mclose mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p></li><li><p>信息增益</p><ul><li><p>当我们采用了某种划分方式（如根据色泽）后，计算对应的加权信息熵，并计算与最初只有“好瓜”，“坏瓜”两种基本类别而无属性时的信息熵的差值，即为信息增益，经典的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>D</mi><mn>3</mn><mo stretchy="false">(</mo><mi>I</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>D</mi><mi>i</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi>t</mi><mi>o</mi><mi>m</mi><mi>i</mi><mi>s</mi><mi>e</mi><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">ID3(IterativeDichotomiser)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord">3</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span>算法使用的衡量标准便是信息增益：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>D</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></munderover><mfrac><mrow><mo stretchy="false">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo stretchy="false">∣</mo></mrow><mrow><mo stretchy="false">∣</mo><mi>D</mi><mo stretchy="false">∣</mo></mrow></mfrac><mi>E</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Gain(D,a)=Ent(D)-\sum_{v=1}^{V}\frac{\lvert{D^v}\rvert}{\lvert{D}\rvert}Ent(D^v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span><span class="mclose">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">∣</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span><span class="mclose">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p></li><li><p>一般我们认为，信息增益越大，采用该属性<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>进行划分得到的子集纯度更好，因此我们可以使用信息增益来进行决策树的划分属性选择，通过计算不同属性的信息增益，可以选择出根结点，再递归左右子树不断构建最终的决策树</p></li></ul></li></ul><h3 id="4122增益率"><a class="markdownIt-Anchor" href="#4122增益率"></a> 4.1.2.2增益率</h3><ul><li>根据信息增益的定义，我们不难发现这种衡量标准比较倾向于取值种类较多的属性，有可能会选出来比如编号这种不具有规律性的特征，而<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mn>4.5</mn></mrow><annotation encoding="application/x-tex">C4.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord">4</span><span class="mord">.</span><span class="mord">5</span></span></span></span>决策算法则尝试解决的这个问题，使用增益率来定义衡量标准：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mi mathvariant="normal">_</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo stretchy="false">(</mo><mi>D</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>D</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><mrow><mi>I</mi><mi>V</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow></mfrac><mspace linebreak="newline"></mspace><mi>I</mi><mi>V</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></munderover><mi>l</mi><mi>o</mi><mi>g</mi><mn>2</mn><mfrac><mrow><mo stretchy="false">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo stretchy="false">∣</mo></mrow><mrow><mo stretchy="false">∣</mo><mi>D</mi><mo stretchy="false">∣</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">Gain\_ratio(D,a)=\frac{Gain(D,a)}{IV(a)}\\IV(a)=-\sum_{v=1}^{V}log2\frac{\lvert{D^v}\rvert}{\lvert{D}\rvert}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord">2</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span><span class="mclose">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">∣</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span><span class="mclose">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>V</mi></mrow><annotation encoding="application/x-tex">IV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span>称为属性的固有值，属性<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>的可能取值数目越多，其的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>V</mi></mrow><annotation encoding="application/x-tex">IV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span>一般越大，从而抑制了因为属性取值多导致的增益很大，但也要注意，这种算法对可能取值数目较少的属性有所偏好，故一般做启发式算法使用，在备选的划分属性中找出信息增益高于平均水平的属性，再从其中选取增益率最高的。</li></ul><h3 id="4123基尼指数"><a class="markdownIt-Anchor" href="#4123基尼指数"></a> 4.1.2.3基尼指数</h3><ul><li><p>基尼指数也是用于衡量数据集纯度的，基尼值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>i</mi><mi>n</mi><mi>i</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Gini(D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span>越小，数据集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>的纯度越高：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>i</mi><mi>n</mi><mi>i</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mo stretchy="false">∣</mo><mi>y</mi><mo stretchy="false">∣</mo></mrow></munderover><munder><mo>∑</mo><mrow><msup><mi>k</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mi>k</mi></mrow></munder><msub><mi>p</mi><mi>k</mi></msub><msubsup><mi>p</mi><mi>k</mi><mo mathvariant="normal">′</mo></msubsup><mspace linebreak="newline"></mspace><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mo stretchy="false">∣</mo><mi>y</mi><mo stretchy="false">∣</mo></mrow></munderover><msubsup><mi>p</mi><mi>k</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">Gini(D)=\sum_{k=1}^{\lvert{y}\rvert}\sum_{k&#x27;=k}p_kp_k&#x27;\\=-\sum_{k=1}^{\lvert{y}\rvert}p_k^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2631180000000004em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">∣</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span><span class="mclose mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000005em;"><span style="top:-1.847887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021129999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2631180000000004em;vertical-align:-1.302113em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961005em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">∣</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span><span class="mclose mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p></li><li><p>而具体属性<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>的基尼指数为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>i</mi><mi>n</mi><mi>i</mi><mi mathvariant="normal">_</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>x</mi><mo stretchy="false">(</mo><mi>D</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></munderover><mfrac><mrow><mo stretchy="false">∣</mo><msup><mi>D</mi><mi>v</mi></msup><mo stretchy="false">∣</mo></mrow><mrow><mo stretchy="false">∣</mo><mi>D</mi><mo stretchy="false">∣</mo></mrow></mfrac><mi>G</mi><mi>i</mi><mi>n</mi><mi>i</mi><mo stretchy="false">(</mo><msup><mi>D</mi><mi>v</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Gini\_index(D,a)=\sum_{v=1}^{V}\frac{\lvert{D^v}\rvert}{\lvert{D}\rvert}Gini(D^v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span><span class="mclose">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">∣</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span><span class="mclose">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault">G</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>在划分属性时有限选基尼指数小的属性划分，这种办法对应的即是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>A</mi><mi>R</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">CART</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>算法</p></li></ul><h2 id="43剪枝处理"><a class="markdownIt-Anchor" href="#43剪枝处理"></a> 4.3剪枝处理</h2><ul><li>目的：应对过拟合</li><li>手段：<ul><li>预剪枝：划分结点之前先进行估计，若当前结点的划分无法提升决策树泛化性能，则不划分并将当前结点标记为叶结点<ul><li>优点<ul><li>降低过拟合风险</li><li>减少了划分后的计算、测试开销</li></ul></li><li>缺点<ul><li>基于贪心，有可能会欠拟合</li></ul></li></ul></li><li>后剪枝：在构造完决策树后，自底向上地对非叶子结点进行考察，若将该结点对应的子树替换为叶结点能带来决策树泛化性能提升，则将该子树替换为叶结点<ul><li>优点<ul><li>不易欠拟合，泛化性能好</li></ul></li><li>缺点<ul><li>要先构造再剪枝，计算开销大</li></ul></li></ul></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>吃瓜计划</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>西瓜书 03章 线性模型</title>
    <link href="/2022/01/19/%E7%AC%AC%E4%B8%89%E7%AB%A0%20%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/01/19/%E7%AC%AC%E4%B8%89%E7%AB%A0%20%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="31基本形式"><a class="markdownIt-Anchor" href="#31基本形式"></a> 3.1基本形式</h2><ul><li>具有d个属性的示例<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">;</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">;</mo><mo separator="true">,</mo><mo separator="true">,</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><msub><mi>x</mi><mi>d</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x=(x_1;x_2;,,,.x_d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li>用属性的线性组合，得到一个函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>，进行预测：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>w</mi><mi>d</mi></msub><msub><mi>x</mi><mi>d</mi></msub><mo>+</mo><mi>b</mi><mo>=</mo><msup><mi>w</mi><mi>T</mi></msup><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x)=w_1x_1+w_2x_2+...+w_dx_d+b=w^Tx+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9746609999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></span></p><ul><li>线性模型在引入层级结构与高维映射后，可以得到非线性模型</li></ul><h2 id="32线性模型"><a class="markdownIt-Anchor" href="#32线性模型"></a> 3.2线性模型</h2><h3 id="321线性回归"><a class="markdownIt-Anchor" href="#321线性回归"></a> 3.2.1线性回归</h3><h4 id="3211单输入属性条件下的线性回归"><a class="markdownIt-Anchor" href="#3211单输入属性条件下的线性回归"></a> 3.2.1.1单输入属性条件下的线性回归</h4><ul><li><p>试图学到的预测函数：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x_i)=wx_i+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></p></li><li><p>目标：使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的相似度最低，“相差最小”，那么如何定义这个差值(损失函数)？常用的是均方根误差</p></li><li><p>目标函数为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msup><mi>w</mi><mo>∗</mo></msup><mo separator="true">,</mo><msup><mi>b</mi><mo>∗</mo></msup><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></munder><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">(w^*,b^*)=arg \min\limits_{(w,b)}\sum\limits_{i=1}^m(f(x_i)-y_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.329066em;vertical-align:-0.9776689999999999em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.009em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">b</span><span class="mclose mtight">)</span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.966em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3513970000000004em;"><span style="top:-2.122331em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9776689999999999em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>，之所以选取它，可以用极大似然估计证明： <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/OULMrREa4ChxXF8.png" alt="image-20220116185012852" style="zoom: 33%;" /></p></li><li><p>只需要求导得到其在最小的时候的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">w,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span></span></span></span>即可</p></li><li><p>求解过程： <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/HPD7qFAn8X25a9o.png" alt="image-20220116125126347" style="zoom: 33%;" /></p></li><li><p>求解结果：</p></li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi>y</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mo stretchy="false">)</mo></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo>−</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><mo stretchy="false">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac><mspace linebreak="newline"></mspace><mi>b</mi><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><mi>w</mi><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">w=\frac{\sum\limits_{i=1}^{m}y(x_i-\bar{x})}{\sum\limits_{i=1}^m{x_i^2}-\frac1m(\sum\limits_{i=1}^m{x_i})^2}\\b=\frac1m\sum_{i=1}^m(y_i-wx_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.938132em;vertical-align:-2.2190660000000006em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7190659999999998em;"><span style="top:-2.1099999999999994em;"><span class="pstrut" style="height:3.3513970000000004em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3513970000000004em;"><span style="top:-2.122331em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9776689999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959080000000001em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3513970000000004em;"><span style="top:-2.122331em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9776689999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.5813970000000004em;"><span class="pstrut" style="height:3.3513970000000004em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.719066em;"><span class="pstrut" style="height:3.3513970000000004em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3513970000000004em;"><span style="top:-2.122331em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0000050000000003em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9776689999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">ˉ</span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.2190660000000006em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">m</span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><h4 id="3212凸函数"><a class="markdownIt-Anchor" href="#3212凸函数"></a> 3.2.1.2凸函数</h4><ul><li><p>上面涉及的目标函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(w,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>是凸函数，当其导数的取值为零时函数取得最优解，但这里的二元函数中的凸函数与高等数学中的凸函数的定义是相反的，属于最优化中的概念，其对应高数中的凹函数：<img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/5OL2Wer1Rf94zaC.png" alt="image-20220116194854366" style="zoom: 25%;" /></p></li><li><p>凸集：集合<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mo>⊂</mo><msup><mi>R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">D\subset{R^n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>，如果对任意的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>⊂</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">x,y\subset{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span></span>与任意的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mo>⊂</mo><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></mrow><annotation encoding="application/x-tex">\alpha\subset{[0,1]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>，有：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi><mi mathvariant="bold">x</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="bold">y</mi><mo>⊂</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">\alpha{\pmb{x}}+(1-\alpha)\pmb{y}\subset{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">x</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">x</span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.625em;vertical-align:-0.17221777777777778em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.0222222222222226em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17221777777777778em;"><span></span></span></span></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17221777777777778em;"><span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span></span></span></p><p>那么就称集合D是凸集，对应几何意义示意图如下，即区域没有陷下去的： <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/Wa5JRImgT6XYUSG.png" alt="image-20220116202027587" style="zoom: 50%;" /></p></li><li><p>凸函数：设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>是非空凸集，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>是定义在D上的函数，如果对任意的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">x</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">x</mi><mn>2</mn></msup><mo>⊂</mo><mi>D</mi><mo separator="true">,</mo><mi>α</mi><mo>⊂</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pmb{x}^1,\pmb{x}^2\subset{D},\alpha\subset(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">x</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">x</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">x</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">x</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，均有：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>α</mi><msup><mi mathvariant="bold">x</mi><mn>1</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msup><mi mathvariant="bold">x</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>≤</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi mathvariant="bold">x</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mo stretchy="false">(</mo><msup><mi mathvariant="bold">x</mi><mn mathvariant="bold">2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\alpha\pmb{x}^1+(1-\alpha)\pmb{x}^2)\leq\alpha(\pmb{x}^1)+(1-\alpha)f(\pmb{x^2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">x</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">x</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">x</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">x</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.43056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">x</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.4527822222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.4527822222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">x</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">x</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8363302222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8363302222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8363302222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>则称<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>上的凸函数。</p></li><li><p>由以上可知，只需要证明我们的目标是凸函数，就可以确定我们求导得到的驻点处函数是取得最优解的，而证明凸函数可以使用下面这个定理：</p><blockquote><p>定理：设 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mo>⊂</mo><msup><mi>R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">D\subset{R^n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>是非空开凸集，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>:</mo><mi>D</mi><mo>⊂</mo><msup><mi>R</mi><mi>n</mi></msup><mo>→</mo><msup><mi>R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">f:D⊂R^n→R^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>，且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>在 上二阶连续可微，如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>的Hessian（海塞）矩阵在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>上是半正定的，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f (x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>上的凸函数，(类比一元函数判断凹凸性) <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/SKdPL29rInvabkT.png" alt="image-20220116220427143" style="zoom: 33%;" /></p></blockquote></li></ul><p>​          <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/SPuDFU3gHXBnm71.png" alt="image-20220116220848604" style="zoom:33%;" /></p><ul><li>证明二阶顺序主子式为非负时用到了一些技巧，所以还是手动推一遍比较深刻:</li></ul><img src="https://s2.loli.net/2022/01/17/b1HhlI4KNf8srL5.png" alt="image-20220117104237080" style="zoom: 33%;" /><h4 id="3213梯度下降"><a class="markdownIt-Anchor" href="#3213梯度下降"></a> 3.2.1.3梯度下降</h4><ul><li>在了解了凸函数之后，我们再寻找最好的参数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mi mathvariant="normal">、</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">w、b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord cjk_fallback">、</span><span class="mord mathdefault">b</span></span></span></span>时，也可以通过不断更新参数值，直到找到代价函数最小时的参数，这其实也比较符合计算机的思维，尤其是在数据量相当大的时候，以及非凸函数时，或许比直接求导计算有一定的优势。</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>θ</mi><mi>j</mi></msub><mo>=</mo><msub><mi>θ</mi><mi>j</mi></msub><mo>−</mo><mi>α</mi><mfrac><mi mathvariant="normal">∂</mi><mrow><mi mathvariant="normal">∂</mi><msub><mi>θ</mi><mi>j</mi></msub></mrow></mfrac><mi>J</mi><mo stretchy="false">(</mo><msub><mi>θ</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msub><mi>h</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>x</mi></mrow><annotation encoding="application/x-tex">\theta_j=\theta_j-\alpha \frac{\partial}{\partial\theta_j} J(\theta_0,\theta_1) \\h_\theta(x)=\theta_0+\theta_1x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.343548em;vertical-align:-0.972108em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.972108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span></span></span></span></span></p><ul><li>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">h_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与前面的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msup><mi>w</mi><mi>T</mi></msup><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x_i)=w^Tx_i+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.991331em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>意义相同，选定学习率<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>后，通过梯度下降，不断的更新迭代<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>θ</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\theta_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的值，从而得到使代价函数最小的参数。</li><li>学习率<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>：<ul><li>过大时，容易导致收敛的步长太大，有可能出现接近最优解时反而跳出最优解</li><li>过小时，收敛太过缓慢</li></ul></li></ul><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/image-20220128183119764.png" alt="image-20220128183119764" style="zoom: 33%;" /><ul><li><p>随机小批量梯度下降法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>←</mo><mo stretchy="false">(</mo><mi mathvariant="bold">w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>−</mo><mfrac><mi>α</mi><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="script">B</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><munder><mo>∑</mo><mrow><mi>i</mi><mo>∈</mo><mi mathvariant="script">B</mi></mrow></munder><msub><mi mathvariant="normal">∂</mi><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></msub><msup><mi>l</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi mathvariant="bold">w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">(\mathbf{w},b) \leftarrow (\mathbf{w},b) - \frac{\alpha}{|\mathcal{B}|} \sum_{i \in \mathcal{B}} \partial_{(\mathbf{w},b)} l^{(i)}(\mathbf{w},b).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.429266em;vertical-align:-1.321706em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8556639999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.03041em;">B</span></span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.321706em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">w</span></span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">b</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></p><ul><li><p>B就是batch_size，每计算B个Loss关于w，b的偏导数参数再求个平均值</p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>l</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi mathvariant="bold">w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msup><mrow><mo fence="true">(</mo><msup><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>−</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo fence="true">)</mo></mrow><mn>2</mn></msup><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">l^{(i)}(\mathbf{w}, b) = \frac{1}{2} \left(\hat{y}^{(i)} - y^{(i)}\right)^2.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.188em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.040008em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.3540079999999999em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span></span></span></span></span></p></li><li><p>随机：因为上面的B是为了更新参数而随机抽取的一个batch</p></li></ul></li></ul><h4 id="3214多输入属性条件下的线性回归"><a class="markdownIt-Anchor" href="#3214多输入属性条件下的线性回归"></a> 3.2.1.4多输入属性条件下的线性回归</h4><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msup><mi>w</mi><mi>T</mi></msup><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x_i)=w^Tx_i+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.991331em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mover accent="true"><mi>w</mi><mo>^</mo></mover><mo>∗</mo></msup><mo>=</mo><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">;</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{w}^*=(w;b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mn>1</mn><mi>d</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mn>2</mn><mi>d</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mn>2</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mi>d</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi>x</mi><mn>1</mn><mi>T</mi></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi>x</mi><mn>2</mn><mi>T</mi></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi>x</mi><mn>3</mn><mi>T</mi></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">X = \begin{bmatrix}   x_{11} &amp; x_{12} &amp; ... &amp; x_{1d} &amp; 1\\  x_{21} &amp; x_{22} &amp; ... &amp; x_{2d} &amp; 1\\  ...    &amp; ...    &amp; ... &amp; ...  &amp; ...\\  x_{m1} &amp; x_{m2} &amp; ... &amp; x_{md}  &amp; 1\end{bmatrix}=\begin{bmatrix}x_1^T &amp; 1\\x_2^T &amp; 1\\...   &amp; 1\\x_3^T &amp; 1\\\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.80204em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.8040065em;vertical-align:-2.1519965em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6519965em;"><span style="top:-4.810665500000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6093344999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4093344999999995em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2080035em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1519965em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6519965em;"><span style="top:-4.810665500000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.6093344999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.4093344999999995em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.2080035em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1519965em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>目标函数：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mover accent="true"><mi>w</mi><mo>^</mo></mover><mo>∗</mo></msup><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><munder><mo><mi>min</mi><mo>⁡</mo></mo><mover accent="true"><mi>w</mi><mo>^</mo></mover></munder><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mi>X</mi><mover accent="true"><mi>w</mi><mo>^</mo></mover><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mi>X</mi><mover accent="true"><mi>w</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{w}^*=arg\min\limits_{\hat{w}}(y-X\hat{w})^T(y-X\hat{w})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.5021079999999998em;vertical-align:-0.7521079999999999em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.047892em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mtight">^</span></span></span></span></span></span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7521079999999999em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li>求解过程：</li></ul><p><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/qCRKEibMcHIsvFy.png" alt="image-20220117115713999" style="zoom: 67%;" />   <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/57n3BoqQE1UwIVp.png" alt="image-20220117115751986" style="zoom: 67%;" /></p><h4 id="3215梯度下降法与标准方程求导法的选择"><a class="markdownIt-Anchor" href="#3215梯度下降法与标准方程求导法的选择"></a> 3.2.1.5梯度下降法与标准方程求导法的选择</h4><ul><li><p>梯度下降法与标准方程法的优缺点对比：</p><table><thead><tr><th style="text-align:left">Gradient Descent</th><th style="text-align:left">Normal Equation</th></tr></thead><tbody><tr><td style="text-align:left">Need to choose alpha</td><td style="text-align:left">No need to choose alpha</td></tr><tr><td style="text-align:left">Needs many iterations</td><td style="text-align:left">No need to iterate</td></tr><tr><td style="text-align:left">O (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>)</td><td style="text-align:left">O (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">n^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>), need to calculate inverse of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mi>T</mi></msup><mi>X</mi></mrow><annotation encoding="application/x-tex">X^TX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td></tr><tr><td style="text-align:left">Works well when n is large</td><td style="text-align:left">Slow if n is very large</td></tr></tbody></table></li><li><p>所以当我们数据特征维度达到几万甚至百万时，我们可以考虑放弃标准方程法，毕竟这么大的矩阵求转置还是比较慢的，且对于以后要学习的算法而言很难找到标准方程解，用梯度下降法的很多</p></li></ul><h2 id="33对数几率回归"><a class="markdownIt-Anchor" href="#33对数几率回归"></a> 3.3对数几率回归</h2><ul><li>对数线性回归：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>n</mi><mi>y</mi><mo>=</mo><msup><mi>w</mi><mi>T</mi></msup><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">lny=w^Tx+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.924661em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></li><li>对数几率回归：之前讨论的是用线性模型进行回归分析，即线性回归问题，但是当我们要用线性模型进行分类问题的解决，我们应该怎么做呢？我们可以用一个单调可微函数将<strong>分类任务的标记</strong>（如0或1、是或不是）与<strong>线性回归模型的预测值</strong>联系起来，比如阶跃函数、sigmoid函数，而<strong>对数几率函数</strong>就是一种sigmoid函数：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>z</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">y=\frac{1}{1+e^{-z}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.09077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.697331em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><p>可以看出，对数几率函数可以将输入的z值转化成趋近于0与1的值，在0的左右，其值变化剧烈</p></li><li><p>广义线性模型：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><msup><mi>w</mi><mi>T</mi></msup><mi>x</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=g(w^Tx+b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></span></p><ul><li>其中当g代表的函数关系为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">g(x)=x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>时，对应为线性回归，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(x)=exp(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>时，对应对数线性回归</li></ul></li><li><p>将当函数映射关系g取为对数几率函数时，将得到：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mo stretchy="false">(</mo><msup><mi>w</mi><mi>T</mi></msup><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">y=\frac{1}{1+e^{-(w^T+b)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.125635em;vertical-align:-0.8041949999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.279135em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8308649999999999em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7740928571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">b</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8041949999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li><li><p>根据<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>的值进行变形：<img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/dzUDJRNnyYmHxSr.png" alt="image-20220117190708813" style="zoom: 33%;" /></p></li><li><p>我们可以将<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>y</mi><mrow><mn>1</mn><mo>−</mo><mi>y</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{y}{1-y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.228608em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>称为“几率”，其背后反映了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>作为正例的相对可能性，对机率取对数得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>n</mi><mfrac><mi>y</mi><mrow><mn>1</mn><mo>−</mo><mi>y</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">ln\frac{y}{1-y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.228608em;vertical-align:-0.481108em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">n</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>即称为“对数几率”，由上图推导可知，在使用<strong>对数几率函数</strong>作为“联系函数”后，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>w</mi><mi>T</mi></msup><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">w^T+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.924661em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>线性预测的结果是对对数几率<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>n</mi><mfrac><mi>y</mi><mrow><mn>1</mn><mo>−</mo><mi>y</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">ln\frac{y}{1-y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.228608em;vertical-align:-0.481108em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">n</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>的逼近。</p></li><li><p>但在确定模型时我们会发现，不同的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>会带来不同的结果，所以为了确定合适的参数，我们可以用极大似然估计法或者信息熵的方法来确定参数： <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/MjKAEvBZCDouJXh.png" alt="image-20220117201841093" style="zoom: 67%;" /> <img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/6OZbzEULgc1dnf9.png" alt="image-20220117201924564" style="zoom:50%;" /></p></li></ul><h2 id="34线性判别分析"><a class="markdownIt-Anchor" href="#34线性判别分析"></a> 3.4线性判别分析</h2><ul><li>用处：分类，根据样本点到指定直线的投影点的分布确定待测点的类别</li><li>数据集<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mo>=</mo><msubsup><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mi mathvariant="normal">，</mi><msub><mi>y</mi><mi>i</mi></msub><mo>⊂</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">D={(x_i,y_i)}^m_{i=1}，y_i\subset\{0,1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1039919999999999em;vertical-align:-0.29969999999999997em;"></span><span class="mord"><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>，令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mi mathvariant="normal">、</mi><msub><mi>μ</mi><mi>i</mi></msub><mi mathvariant="normal">、</mi><msub><mo>∑</mo><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i、\mu_i、\sum_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span>分别表示第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>⊂</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">i\subset\{0,1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69862em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>类示例的集合、均值向量、协方差矩阵</li><li>目标：<strong>选取合适的直线，使得同类投影点尽可能相近，异类样例投影点尽可能互相远离</strong></li><li>推导过程：</li></ul><p><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/%E5%90%83%E7%93%9C%E8%AE%A1%E5%88%92%E7%AC%94%E8%AE%B0-9-2563444.jpg" alt="吃瓜计划笔记-9" /><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/%E5%90%83%E7%93%9C%E8%AE%A1%E5%88%92%E7%AC%94%E8%AE%B0-10.jpg" alt="吃瓜计划笔记-10"  /></p><p><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/%E5%90%83%E7%93%9C%E8%AE%A1%E5%88%92%E7%AC%94%E8%AE%B0-11.jpg" alt="吃瓜计划笔记-11"  /><img src="https://cdn.jsdelivr.net/gh/DongHaotian100/cloud_img@master/typora/%E5%90%83%E7%93%9C%E8%AE%A1%E5%88%92%E7%AC%94%E8%AE%B0-12-2562635.jpg" alt="吃瓜计划笔记-12"  /></p><blockquote><p>参考书籍：《机器学习》周志华、吴恩达ML、李沐D2L</p><p>参考教程：<a href="https://www.bilibili.com/video/BV1Mh411e7VU?share_source=copy_web">DataWhale教程</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>吃瓜计划</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mac使用Hexo搭建个人博客</title>
    <link href="/2022/01/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BAhexo/"/>
    <url>/2022/01/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BAhexo/</url>
    
    <content type="html"><![CDATA[<h3 id="1安装必备资源"><a class="markdownIt-Anchor" href="#1安装必备资源"></a> 1.安装必备资源</h3><h4 id="11先安装nvm"><a class="markdownIt-Anchor" href="#11先安装nvm"></a> 1.1先安装nvm</h4><p>安装nvm而不是用<code>brew install node</code>的原因是因为nvm是<code>node version manager</code>,便于后续的版本控制</p><p>步骤如下：</p><ul><li><p>首先进入home目录：<code>cd ~</code></p></li><li><p>使用以下指令安装nvm：<code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash</code></p></li></ul><p>但是这里下载会出错，我先埋一个坑回头再解决</p><h4 id="12安装nodejs"><a class="markdownIt-Anchor" href="#12安装nodejs"></a> 1.2安装nodejs</h4><ul><li>访问网址:<a href="nodejs.org">nodejs</a></li><li>下载长期支持版LTS版本的nodejs，下载完成后不断同意，安装完后会发现npm这个包管理器也被装进去了</li></ul><blockquote><p>nvm控制nodejs的版本管理，nodejs内部有不同的插件与包，用npm管理</p></blockquote><ul><li>在终端检查：<code>node -v</code>、<code>nom-v</code>可以用来检查是否安装成功（后续检查版本指令类似）</li><li>打开mac终端进入到root用户：<code>sudo su</code>后输入密码</li></ul><h4 id="13安装hexo框架"><a class="markdownIt-Anchor" href="#13安装hexo框架"></a> 1.3安装hexo框架</h4><ul><li><p>借助npm安装hexo，但是由于墙，用淘宝的镜像更快，所以先装cnpm</p><ul><li>输入<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></li><li>其中<code>-g</code>表示全局安装，后面–registry代表镜像源</li></ul></li><li><p>检验cnpm版本确认安装成功后，用cnpm安装hexo，命令为<code>cnpm install -g hexo-cli</code></p></li><li><p>检验hexo版本确认安装完成</p></li></ul><h3 id="2开始搭建博客"><a class="markdownIt-Anchor" href="#2开始搭建博客"></a> 2.开始搭建博客</h3><ul><li>首先pwd一下，确认位置，新建一个博客文件夹<code>mkdir dcode_blog</code></li><li>这时候在finder的dcode目录下就会发现有dcode_blog这个文件夹，cd进去</li><li>初始化一个博客<code>sudo hexo init</code>，等待一段时间后安装完成，可以发现在dcode_blog 的文件夹下多了一些文件，后续做博客基于这些文件</li><li>启动博客命令：<code>hexo s</code></li><li>访问localhost：4000端口，就可以看到本地的hexo网页了</li><li>hexo使用：<ul><li><strong>发布文章</strong>命令：<code>hexo n</code>+“标题名”，发布后文件保存在source/_posts/路径下，cd进去后ls即可发现</li><li>用vim之类改完文章后清理一下数据缓存：<code>hexo clean</code>；再生成一下：<code>hexo g</code></li><li>终止hexo的快捷键是Ctrl+C</li></ul></li></ul><h3 id="3把博客项目部署到github上"><a class="markdownIt-Anchor" href="#3把博客项目部署到github上"></a> 3.把博客项目部署到github上</h3><ul><li><p>首先新建仓库，命名必须是github名字+ <code>.github.io</code>,description随便写，我的是<em><a href="http://DongHaotian100.github.io">DongHaotian100.github.io</a></em></p></li><li><p>creat完成后，目前是空仓库，回到终端继续操作</p></li><li><p>要在dcode_blog文件下安装一个git部署的插件：<code>cnpm install --save hexo-deployer-git</code></p></li><li><p>对插件进行设置：</p><ul><li><p>用vim打开_config.yml文件进行修改，文件最下端找到Deployment进行配置</p></li><li><blockquote><p>type: git</p><p>repo:https://（这里填了token后hexo d时不用再输密码了，后面多加个@）@github.com/DongHaotian100/DongHaotian100.github.io.git</p><p>branch:master</p></blockquote></li><li><p>修改完上面的操作后先esc退出编辑模式，再输冒号：，再输入wq退出</p></li></ul></li><li><p>部署到远端<code>hexo d</code>,如果提示说不知我是谁，则配置git中的name与mail</p><ul><li><code>git config --global user.email</code></li><li><code>git config --global user.email</code></li></ul></li><li><p>但是事实上目前这种用账号密码确认的方式已经被git在2021年8月舍弃了，故应该使用令牌token代替密码</p><ul><li><p>设置勾选所有带repo的选项</p></li><li><blockquote><p>参考文档https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token</p></blockquote></li></ul></li><li><p>目前token：ghp_GNW3Jqn1lBsy7hOIz5Fh****具体查看私人笔记</p></li></ul><h3 id="4更换hexo主题"><a class="markdownIt-Anchor" href="#4更换hexo主题"></a> 4.更换hexo主题</h3><h4 id="41下载主题"><a class="markdownIt-Anchor" href="#41下载主题"></a> 4.1下载主题</h4><p><code>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</code></p><h4 id="42修改配置文件"><a class="markdownIt-Anchor" href="#42修改配置文件"></a> 4.2修改配置文件</h4><ul><li>修改_config.yml，用vim打开</li><li>找到theme，更改主题名字为新主题名字</li></ul><h4 id="43fluid主题文档"><a class="markdownIt-Anchor" href="#43fluid主题文档"></a> 4.3Fluid主题文档</h4><p>官方链接：<code>https://hexo.fluid-dev.com/docs/guide/</code></p><p>注意几个更新点：</p><ul><li>主题配置：dcode_blog/source/_data中的yml文件</li><li>博客配置：dcode_blog/_config.fluid.yml文件</li><li>相比原生修改点：<ul><li>更换编辑器，以解析数学公式</li><li>首页的一些样式</li><li>about页面</li></ul></li></ul><h3 id="5配置域名"><a class="markdownIt-Anchor" href="#5配置域名"></a> 5.配置域名</h3><ul><li>首先购买域名，然后解析域名，进行配置</li><li>配置GitHub上的博客所在repository的setting里的pages</li></ul><blockquote><p>参考链接：<a href="https://budongshu.cn/2020/12/03/hexo">https://budongshu.cn/2020/12/03/hexo</a></p><p>参考文档：阿里云域名解析文档</p><p>参考视频：CodeSheep：<a href="https://www.bilibili.com/video/BV1Yb411a7ty?share_source=copy_web">https://www.bilibili.com/video/BV1Yb411a7ty?share_source=copy_web</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>博客搭建</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>西瓜书 02章 模型评估与选择</title>
    <link href="/2022/01/11/%E7%AC%AC%E4%BA%8C%E7%AB%A0/"/>
    <url>/2022/01/11/%E7%AC%AC%E4%BA%8C%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="21经验误差与过拟合"><a class="markdownIt-Anchor" href="#21经验误差与过拟合"></a> 2.1经验误差与过拟合</h2><ul><li><strong>经验误差</strong>即在学习训练集时对样本的误差</li><li><strong>过拟合</strong>，简而言之做过的题会得不得了，没做过的就不行，迁移能力差，因此在选择模型时要会评估模型，选择泛化能力好的</li></ul><h2 id="22评估方法"><a class="markdownIt-Anchor" href="#22评估方法"></a> 2.2评估方法</h2><h3 id="221留出法"><a class="markdownIt-Anchor" href="#221留出法"></a> 2.2.1留出法</h3><ul><li>即将数据集划分为互斥的训练集S与测试集T，推荐比例为S/T=4或者2</li><li>要注意抽取的数据尽可能在分布上接近原数据集</li></ul><h3 id="222交叉验证cross-validation"><a class="markdownIt-Anchor" href="#222交叉验证cross-validation"></a> 2.2.2交叉验证（Cross validation）</h3><ul><li><strong>n次n折交叉验证</strong>：即D划分n份，取其中n-1份用于训练，剩下一份用于测试，以此规则遍历n种分配方案即可</li><li><strong>留一法</strong>：即一份只有一个样本的n-n交叉验证，这种办法计算量大，几乎就是拿D在训练</li></ul><h3 id="223自助法bootstrap"><a class="markdownIt-Anchor" href="#223自助法bootstrap"></a> 2.2.3自助法（Bootstrap）</h3><ul><li><strong>原理</strong>：自助采样，有放回的采样m次得到训练集D‘，不被采集的数据占0.368</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>lim</mi><mo>⁡</mo></mo><mrow><mi>m</mi><mo>→</mo><mi mathvariant="normal">∞</mi></mrow></munder><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><msup><mo stretchy="false">)</mo><mi>m</mi></msup><mo>=</mo><mfrac><mn>1</mn><mi>e</mi></mfrac><mo>≈</mo><mn>0.368</mn></mrow><annotation encoding="application/x-tex">\lim\limits_{m\to\infty}(1-\frac{1}m)^m=\frac{1}{e}\approx0.368</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.45em;vertical-align:-0.7em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.1em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">→</span><span class="mord mtight">∞</span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">m</span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">e</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mord">6</span><span class="mord">8</span></span></span></span></span></p><ul><li>数据集较小/难以有效划分训练集与测试集时比较适合自助法<ul><li>留出法缺点是训练规模不同导致估计偏差，留一法数据规模影响小，但是对于大规模数据计算量大，而当原数据的总体并不大时，自助法每次抽样能反应总体的特性，而在数据量大时，由于自助法会改变原数据分布，是有偏的估计，还是用其他方法比较合适</li></ul></li></ul><h3 id="224调参与最终模型"><a class="markdownIt-Anchor" href="#224调参与最终模型"></a> 2.2.4调参与最终模型</h3><ul><li><strong>调参</strong>：调节参数大小得到验证效果最好的模型，为了减少测试次数，参数调节可以设置步长</li><li><strong>最终模型</strong>：调参完成之前时会留一部分数据训练模型，这部分数据叫做验证集，而待调参数调好之后，用全集再训练一次模型，得到最终模型，最终模型再使用测试集进行测试</li></ul><h3 id="225性能度量"><a class="markdownIt-Anchor" href="#225性能度量"></a> 2.2.5性能度量</h3><blockquote><p>性能度量即评估学习器<em>f</em>的性能，方法是比较预测结果与真实标记的差距</p></blockquote><ul><li><p>错误率与精度：精度+错误率=1</p></li><li><p>P与R</p><ul><li><strong>查准率/准确率</strong>： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">P=\frac{TP}{TP+FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.275662em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>  对应“选出来的瓜有多少好瓜”</li><li><strong>查全率/召回率</strong>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">R = \frac{TP}{TP+FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.275662em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>  对应“好瓜中有多少被选出来了”</li><li>P与R一般是矛盾的，因为为了尽可能选瓜准确，一般挑瓜会比较谨慎，从而导致不少好瓜被漏掉，反之同理</li></ul></li><li><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mn>1</mn><mo>=</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mi>P</mi><mo>×</mo><mi>R</mi></mrow><mrow><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mrow><mi>T</mi><mi>P</mi></mrow></mrow><mrow><mi mathvariant="normal">样</mi><mi mathvariant="normal">例</mi><mi mathvariant="normal">总</mi><mi mathvariant="normal">数</mi><mo>+</mo><mi>T</mi><mi>P</mi><mo>−</mo><mi>T</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">F1=\frac{2\times{P}\times{R}}{P+R}=\frac{2\times{TP}}{样例总数+TP-TN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.275662em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.275662em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">样</span><span class="mord cjk_fallback mtight">例</span><span class="mord cjk_fallback mtight">总</span><span class="mord cjk_fallback mtight">数</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>  这个公式是P与R的调和平均数，另有根据业务对P、R重要性加权的调和平均，参考西瓜书P32</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>吃瓜计划</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>西瓜书 01章 绪论</title>
    <link href="/2022/01/11/%E7%BB%AA%E8%AE%BA/"/>
    <url>/2022/01/11/%E7%BB%AA%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="11机器学习的总思路"><a class="markdownIt-Anchor" href="#11机器学习的总思路"></a> 1.1机器学习的总思路</h2><p><code>data -&gt; model -&gt; result</code></p><h2 id="12基本术语"><a class="markdownIt-Anchor" href="#12基本术语"></a> 1.2基本术语</h2><h3 id="121数据集"><a class="markdownIt-Anchor" href="#121数据集"></a> 1.2.1数据集</h3><ul><li>数据集（<em>Dataset</em>）由一条条记录组成，每条记录是一个示例，也等于一个向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，具有i个特征维度，每个维度有j种取值</li><li>一个<em>Dataset</em>中有<em>m</em>个数据，即有<em>m</em>个记录，即有<em>m</em>个<em>i</em>维向量，即<em>Dataset</em>可以看作是一个矩阵</li><li>这样的数据集所处的样本空间大小是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>j</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">j^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span></span></span></li><li>一般假设每个样本是独立同分布（<em>iid</em>）的</li></ul><h3 id="122训练集"><a class="markdownIt-Anchor" href="#122训练集"></a> 1.2.2训练集</h3><ul><li>从现有数据集中抽出一部分用于学习已有数据集的数据特征从而得到规律</li></ul><h3 id="123测试集"><a class="markdownIt-Anchor" href="#123测试集"></a> 1.2.3测试集</h3><ul><li>从现有数据集中抽出一部分用于检测训练得到规律的正确性</li><li>三个集合的关系<img src="https://s2.loli.net/2022/01/10/LCaU1nYwvuXZGO9.png" alt="image-20220110124052492" style="zoom:33%;" /></li></ul><h3 id="124机器学习分类"><a class="markdownIt-Anchor" href="#124机器学习分类"></a> 1.2.4机器学习分类</h3><ul><li>监督学习：有<em>Tag</em>的<em>Dataset</em>，如分类与回归</li><li>无监督学习：无<em>Tag</em>，如聚类</li><li>强化学习：在反馈的过程中不断根据环境调整学习，比如扫地机器人的路线选择、AlphaGo等</li></ul><h3 id="125泛化能力"><a class="markdownIt-Anchor" href="#125泛化能力"></a> 1.2.5泛化能力</h3><ul><li>可以理解为模型在新的陌生数据上的使用效果</li></ul><h3 id="126假设空间"><a class="markdownIt-Anchor" href="#126假设空间"></a> 1.2.6假设空间</h3><ul><li>归纳与演绎<ul><li>归纳：个性中找出共性，广义上大体相当于从样例中学习，狭义上指概念学习</li><li>演绎：把共性的规律应用在个性个体</li></ul></li><li>概念学习<ul><li>学习过程中是在假设空间中搜索的过程，目标是找到与训练集匹配的假设</li></ul></li><li>假设空间<ul><li>可以理解为数据可能出现的所有情况组合构成的空间</li></ul></li><li>版本空间<ul><li>在假设空间中取一个与训练集一致的子空间即为版本空间，这里的“一致”应当是说版本空间与训练集中的数据<strong>不矛盾</strong>，而非完全一一对应</li></ul></li></ul><h3 id="127归纳偏好"><a class="markdownIt-Anchor" href="#127归纳偏好"></a> 1.2.7归纳偏好</h3><ul><li><p>设置目的：为了确定哪种假设更好</p></li><li><p>设置原则：领域知识经验、奥卡姆剃刀原则（即选择最简单的）等</p></li><li><p>NFL(No Free Lunch)定理：在假设空间均匀分布时，算法无用</p><ul><li><blockquote><p>启示：机器学习要结合具体问题实现算法</p></blockquote></li></ul></li></ul><blockquote><p>本文总结于：《机器学习》第一章 by.周志华</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>吃瓜计划</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python基础手册</title>
    <link href="/2021/02/11/Python%E5%9F%BA%E7%A1%80%E6%89%8B%E5%86%8C/"/>
    <url>/2021/02/11/Python%E5%9F%BA%E7%A1%80%E6%89%8B%E5%86%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="basic_python1"><a class="markdownIt-Anchor" href="#basic_python1"></a> Basic_Python(1)</h1><h2 id="0pycharm-使用细节"><a class="markdownIt-Anchor" href="#0pycharm-使用细节"></a> 0.Pycharm 使用细节</h2><h3 id="01"><a class="markdownIt-Anchor" href="#01"></a> 0.1</h3><p>File - Editor - File and Code Templates 用于调编程模板,模板示例如下，每次打开新的python文件时都会自动生成</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#-*- coding = utf-8 -*-</span><br><span class="hljs-comment">#@Time : $&#123;DATE&#125; $&#123;TIME&#125;     %自动获取新建文件时的时间，$的作用</span><br><span class="hljs-comment">#@Author : D-code            %写死作者名</span><br><span class="hljs-comment">#@File : $&#123;NAME&#125;.py          %自动获取当前的文件名</span><br><span class="hljs-comment">#@Software : $&#123;PRODUCT_NAME&#125; %自动获取写代码的软件名称</span><br></code></pre></td></tr></table></figure><h3 id="02"><a class="markdownIt-Anchor" href="#02"></a> 0.2</h3><p>shift + Tab 向前一个缩进； Tab是向后一个缩进; 选中多行后 Ctrl + # 生成多行注释</p><h2 id="1注释"><a class="markdownIt-Anchor" href="#1注释"></a> 1.注释</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello world&quot;</span>) <span class="hljs-comment">#这是单行注释</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">这是第一行注释</span><br><span class="hljs-string">这是第二行注释</span><br><span class="hljs-string"></span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="2格式化输出"><a class="markdownIt-Anchor" href="#2格式化输出"></a> 2.格式化输出</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">age = <span class="hljs-number">18</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;年龄是%d&quot;</span>%age)                               <span class="hljs-comment">#没有逗号，是和C不一样的</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我的名字叫做%s， 我的年龄是%d&quot;</span>%(<span class="hljs-string">&quot;D-code&quot;</span>, age))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AAA&quot;</span>,<span class="hljs-string">&quot;BBB&quot;</span>,<span class="hljs-string">&quot;CCC&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;www&quot;</span>,<span class="hljs-string">&quot;baidu&quot;</span>,<span class="hljs-string">&quot;com&quot;</span>,sep=<span class="hljs-string">&quot;.&quot;</span>)                <span class="hljs-comment">#爬虫时做链接时用这种方式输出</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello&quot;</span>,end=<span class="hljs-string">&quot;&quot;</span>)                             <span class="hljs-comment">#不换行输出</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;world&quot;</span>,end=<span class="hljs-string">&quot;\t&quot;</span>)                           <span class="hljs-comment">#空格输出</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;python&quot;</span>,end=<span class="hljs-string">&quot;\n&quot;</span>)                          <span class="hljs-comment">#换行输出</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;python&quot;</span>)<br><br>out:<br>    年龄是：<span class="hljs-number">18</span><br>    我的名字叫做D-code， 我的年龄是<span class="hljs-number">18</span><br>    AAA BBB CCC<br>    www.baidu.com<br>    helloworldpython<br>    python<br></code></pre></td></tr></table></figure><h2 id="3输入"><a class="markdownIt-Anchor" href="#3输入"></a> 3.输入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">password = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入密码&quot;</span>)  <span class="hljs-comment">#默认是str型</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;您的密码是%s&quot;</span>password)   <span class="hljs-comment">#这里输入的密码是123也要按照%s来输出，而不是%d</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(password))<br>password = <span class="hljs-built_in">int</span>()              <span class="hljs-comment">#有需求时要强制转换</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(password))<br>a = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入&quot;</span>))       <span class="hljs-comment">#在输入时候就强转</span><br><span class="hljs-built_in">print</span>(a, <span class="hljs-built_in">type</span>(a))<br><br>out:<br>    请输入密码<span class="hljs-number">123</span><br>    您的密码是<span class="hljs-number">123123</span><br>    &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">str</span>&#x27;&gt;</span><br><span class="hljs-class">    &lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">int</span>&#x27;&gt;</span><br><span class="hljs-class">    请输入333</span><br><span class="hljs-class">    333 &lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">int</span>&#x27;&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4判断"><a class="markdownIt-Anchor" href="#4判断"></a> 4.判断</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-number">90</span><br>b = <span class="hljs-number">88</span><br><span class="hljs-keyword">if</span> b &lt; a:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;under&quot;</span>)<br><span class="hljs-keyword">elif</span> b == a:           <span class="hljs-comment">#elif比较特殊</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;same&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;over&quot;</span>)<br>    <br>out:<br>    under<br></code></pre></td></tr></table></figure><h2 id="5引入"><a class="markdownIt-Anchor" href="#5引入"></a> 5.引入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random                                     <span class="hljs-comment">#引入随机库</span><br><span class="hljs-keyword">from</span> somemodule <span class="hljs-keyword">import</span> function1,function2,etc... <span class="hljs-comment">#从一些模块引入多个函数</span><br><span class="hljs-keyword">from</span> somemodule <span class="hljs-keyword">import</span> \*                         <span class="hljs-comment">#引入该模块的全部函数</span><br>a = random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>)                           <span class="hljs-comment">#随机生成一个整数,可以是1,2,0，默认闭区间</span><br></code></pre></td></tr></table></figure><h2 id="6循环"><a class="markdownIt-Anchor" href="#6循环"></a> 6.循环</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>    <span class="hljs-built_in">print</span>(i,<span class="hljs-string">&quot; &quot;</span>,end=<span class="hljs-string">&quot;&quot;</span>)    <span class="hljs-comment">#不换行，空格输出</span><br>    <br>out:<br>    <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span> <br>   <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>,<span class="hljs-number">3</span>):    <span class="hljs-comment">#步进值为3</span><br>    <span class="hljs-built_in">print</span>(i,<span class="hljs-string">&quot;&quot;</span>,end=<span class="hljs-string">&quot;&quot;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>):    <span class="hljs-comment">#验证左闭右开</span><br>    <span class="hljs-built_in">print</span>(i,<span class="hljs-string">&quot;&quot;</span>,end=<span class="hljs-string">&quot;&quot;</span>)<br>    <br>name = <span class="hljs-string">&quot;chengdu&quot;</span> <br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> name:             <span class="hljs-comment">#能输出字符串</span><br>    <span class="hljs-built_in">print</span>(x,<span class="hljs-string">&quot;&quot;</span>,end=<span class="hljs-string">&quot;\t&quot;</span>)<br><br>a = [<span class="hljs-string">&quot;aa&quot;</span>,<span class="hljs-string">&quot;bb&quot;</span>,<span class="hljs-string">&quot;cc&quot;</span>,<span class="hljs-string">&quot;dd&quot;</span>]  <span class="hljs-comment">#获取列表中的元素</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a)):<br>    <span class="hljs-built_in">print</span>(i,a[i])<br>    <br>out:<br>    <span class="hljs-number">0</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span> <span class="hljs-number">9</span><br>    <span class="hljs-number">0</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">6</span> <span class="hljs-number">8</span><br>    c h e n g d u<br>    <span class="hljs-number">0</span> aa<br>    <span class="hljs-number">1</span> bb<br>    <span class="hljs-number">2</span> cc<br>    <span class="hljs-number">3</span> dd<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">i = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> i &lt; <span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当下是第%d次循环&quot;</span>%(i+<span class="hljs-number">1</span>))<br>    <span class="hljs-built_in">print</span>(i)<br>    i += <span class="hljs-number">1</span><br><br>    <br>out:<br>    当下是第<span class="hljs-number">1</span>次循环<br>    <span class="hljs-number">0</span><br>    当下是第<span class="hljs-number">2</span>次循环<br>    <span class="hljs-number">1</span><br>    当下是第<span class="hljs-number">3</span>次循环<br><span class="hljs-number">2</span><br>当下是第<span class="hljs-number">4</span>次循环<br><span class="hljs-number">3</span><br>当下是第<span class="hljs-number">5</span>次循环<br><span class="hljs-number">4</span> <br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">count = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> count&lt;<span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(count,<span class="hljs-string">&quot;小于5&quot;</span>)<br>    count += <span class="hljs-number">1</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(count,<span class="hljs-string">&quot;大于或等于5&quot;</span>)<br>    <br>out:<br>    <span class="hljs-number">0</span> 小于<span class="hljs-number">5</span><br>    <span class="hljs-number">1</span> 小于<span class="hljs-number">5</span><br>    <span class="hljs-number">2</span> 小于<span class="hljs-number">5</span><br>    <span class="hljs-number">3</span> 小于<span class="hljs-number">5</span><br>    <span class="hljs-number">4</span> 小于<span class="hljs-number">5</span><br>    <span class="hljs-number">5</span> 大于或等于<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">break</span>      <span class="hljs-comment">#跳出for或while循环体</span><br><span class="hljs-keyword">continue</span>   <span class="hljs-comment">#跳过当次循环，进入下一轮循环</span><br><span class="hljs-keyword">pass</span>       <span class="hljs-comment">#占位空语句，不作任何事情</span><br></code></pre></td></tr></table></figure><h2 id="7字符串"><a class="markdownIt-Anchor" href="#7字符串"></a> 7.字符串</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python">word = <span class="hljs-string">&#x27;字符串&#x27;</span><br>sentence = <span class="hljs-string">&quot;这是一个句子&quot;</span><br>paragraph = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        这是一个段落</span><br><span class="hljs-string">        有好多行</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>my_str = <span class="hljs-string">&#x27;I\&#x27;m a student&#x27;</span>       <span class="hljs-comment">#用转义字符避免报错</span><br><span class="hljs-built_in">print</span>(my_str)<br><span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;tianjin&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>[<span class="hljs-number">0</span>:<span class="hljs-number">6</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>[<span class="hljs-number">0</span>:<span class="hljs-number">7</span>:<span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>[:<span class="hljs-number">5</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>[<span class="hljs-number">5</span>:])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span> + <span class="hljs-string">&quot;,你好&quot;</span>)             <span class="hljs-comment">#字符串连接，使用+</span><br><span class="hljs-built_in">print</span>((<span class="hljs-built_in">str</span>+<span class="hljs-string">&quot; &quot;</span>) * <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">r&quot;hello\ntianjin&quot;</span>)        <span class="hljs-comment">#r或R可以取消转义功能</span><br><br>out:<br>    I<span class="hljs-string">&#x27;m a student</span><br><span class="hljs-string">    tianjin</span><br><span class="hljs-string">tianji</span><br><span class="hljs-string">tajn</span><br><span class="hljs-string">    tianj</span><br><span class="hljs-string">in</span><br><span class="hljs-string">tianjin,你好</span><br><span class="hljs-string">tianjin tianjin tianjin</span><br><span class="hljs-string">    hello\ntianjin</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#字符串常见操作</span><br>isalnum()<br>isalpha()<br>isdigit()<br>isnumeric()<br>join(sep)<br><span class="hljs-built_in">len</span>(string)<br>lstrip()<br>rstrip()<br>split(<span class="hljs-built_in">str</span>=<span class="hljs-string">&quot;&quot;</span>,num=string.count(<span class="hljs-built_in">str</span>) num=string.count(<span class="hljs-built_in">str</span>))<br><span class="hljs-built_in">bytes</span>.decode(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>,errors=<span class="hljs-string">&quot;strict&quot;</span>)<br>encode(encoding=<span class="hljs-string">&#x27;UTF-8&#x27;</span>,errors=strict)<br></code></pre></td></tr></table></figure><h2 id="8列表list"><a class="markdownIt-Anchor" href="#8列表list"></a> 8.列表(List)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python">nulllist = []                      <span class="hljs-comment">#定义一个空列表</span><br>list_1 = [<span class="hljs-string">&#x27;abcd&#x27;</span>, <span class="hljs-number">334</span>, <span class="hljs-number">4.6</span>]        <span class="hljs-comment">#列表可以储存不同数据类型的数据</span><br>list_2 = [<span class="hljs-string">&quot;张三&quot;</span>, <span class="hljs-string">&quot;李四&quot;</span>,]<br><br><span class="hljs-built_in">print</span>(list_1[-<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(list_1[-<span class="hljs-number">1</span>]))<br><br><span class="hljs-built_in">print</span>(list_1[<span class="hljs-number">0</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(list_1[<span class="hljs-number">0</span>]))<br><br><span class="hljs-built_in">print</span>(list_2)<br><br><span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> list_2:<br>    <span class="hljs-built_in">print</span>(name)<br>    <br>a = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>]<br><span class="hljs-built_in">print</span>(a.index(<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>))            <span class="hljs-comment">#在1-4的范围（左闭右开）内查找&quot;a&quot;并返回下标，如果有多个，返回第一个</span><br>    <br>out:<br>    <span class="hljs-number">4.6</span><br>&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">float</span>&#x27;&gt;</span><br><span class="hljs-class"><span class="hljs-title">abcd</span></span><br><span class="hljs-class">&lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">str</span>&#x27;&gt;</span><br><span class="hljs-class">[&#x27;张三&#x27;, &#x27;李四&#x27;]</span><br><span class="hljs-class">张三</span><br><span class="hljs-class">李四</span><br><span class="hljs-class">    3</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/01/09/xlJ6avE3M57mSOe.png" alt="image-20210109154946643" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">a.sort()               <span class="hljs-comment">#升序排序</span><br>a.sort(reverse=<span class="hljs-literal">True</span>)   <span class="hljs-comment">#降序排序</span><br>b = [[],[],[]]         <span class="hljs-comment">#二维列表</span><br></code></pre></td></tr></table></figure><h2 id="9元组tuple"><a class="markdownIt-Anchor" href="#9元组tuple"></a> 9.元组（tuple）</h2><ul><li><p>tuple与list类似，但是tuple里的元素不能进行修改，但可以包含可变对象，比如list</p></li><li><p>定义只有一个元素的tuple也要加逗号</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">tup1 = ()<br>tup2 = (<span class="hljs-number">55</span>)<br>tup3 = (<span class="hljs-number">55</span>,)<br>tup4 = (<span class="hljs-number">55</span>, <span class="hljs-number">66</span>, <span class="hljs-number">77</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(tup1))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(tup2))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(tup3))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(tup4))<br><br>out:<br>    &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">tuple</span>&#x27;&gt;</span><br><span class="hljs-class">&lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">int</span>&#x27;&gt;</span><br><span class="hljs-class">    &lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">tuple</span>&#x27;&gt;</span><br><span class="hljs-class">    &lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">tuple</span>&#x27;&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">tup1 = tup2 + tup4     <span class="hljs-comment">#报错，因为tup2和tup4类型不同</span><br><span class="hljs-built_in">print</span>(tup1)<br>tup1 = tup3 + tup4<br><span class="hljs-built_in">print</span>(tup1)            <span class="hljs-comment">#同类型，成功</span><br><br>a = tup4.count(<span class="hljs-number">66</span>)     <span class="hljs-comment">#统计tup4里的66出现频率</span><br><span class="hljs-built_in">print</span>(a)<br></code></pre></td></tr></table></figure><h2 id="10字典dict"><a class="markdownIt-Anchor" href="#10字典dict"></a> 10.字典（dict）</h2><ul><li><p>字典是无序的对象集合，使用键值对（key-value）存储，具有极快的查找速度</p></li><li><p>key必须使用不可变类型</p></li><li><p>同一个字典中，key必须是唯一的</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">info = &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Peter&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>&#125;       <span class="hljs-comment">#新建字典info</span><br><span class="hljs-built_in">print</span>(info[<span class="hljs-string">&quot;age&quot;</span>])<br><span class="hljs-built_in">print</span>(info.get(<span class="hljs-string">&quot;gender&quot;</span>))              <span class="hljs-comment">#用get方法，避免报错，返回none，增加健壮性</span><br><span class="hljs-built_in">print</span>(info.get(<span class="hljs-string">&quot;gender&quot;</span>,<span class="hljs-string">&#x27;没找到&#x27;</span>))      <span class="hljs-comment">#查无则返回“没找到”</span><br><span class="hljs-built_in">print</span>(info.keys())    <span class="hljs-comment"># 输出dict_keys([&#x27;name&#x27;, &#x27;age&#x27;])</span><br><span class="hljs-built_in">print</span>(info.values())   <span class="hljs-comment"># 输出dict_values([&#x27;Peter&#x27;, 18])</span><br><span class="hljs-built_in">print</span>(info.items())   <span class="hljs-comment"># 输出dict_items([(&#x27;name&#x27;, &#x27;Peter&#x27;), (&#x27;age&#x27;, 18)])</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#增</span><br>info = &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Peter&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>&#125;<br>newID = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;输入学号&quot;</span>)<br>info[<span class="hljs-string">&quot;id&quot;</span>] = newID<br><span class="hljs-built_in">print</span>(info[<span class="hljs-string">&quot;id&quot;</span>])<br><span class="hljs-built_in">print</span>(info.items())<br><br>out:<br>    输入学号<span class="hljs-number">321</span><br>    <span class="hljs-number">321</span><br>    dict_items([(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;Peter&#x27;</span>), (<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-number">18</span>), (<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;321&#x27;</span>)])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#删</span><br>info = &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Peter&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>&#125;<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;删除前： %s&quot;</span>%info[<span class="hljs-string">&quot;name&quot;</span>])<br><span class="hljs-keyword">del</span> info[<span class="hljs-string">&quot;name&quot;</span>]<br><span class="hljs-built_in">print</span>(info.get(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&#x27;null&#x27;</span>))<br><span class="hljs-keyword">del</span> info                         <span class="hljs-comment">#直接删除了字典info，print后会报错</span><br>info.clear()                     <span class="hljs-comment">#清空后返回空字典&#123;&#125;</span><br><br>out:<br>    删除前： Peter<br>    null<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#改</span><br>info[<span class="hljs-string">&quot;age&quot;</span>] = <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#查，分为查键与查值</span><br><span class="hljs-built_in">print</span>(info.keys())    <br><span class="hljs-comment"># 输出dict_keys([&#x27;name&#x27;, &#x27;age&#x27;])，这里是列表形式</span><br><span class="hljs-built_in">print</span>(info.values())   <br><span class="hljs-comment"># 输出dict_values([&#x27;Peter&#x27;, 18])</span><br><span class="hljs-built_in">print</span>(info.items())   <br><span class="hljs-comment"># 输出dict_items([(&#x27;name&#x27;, &#x27;Peter&#x27;), (&#x27;age&#x27;, 18)])</span><br><span class="hljs-comment"># 得到的是列表，列表里有元组，可以操作查询具体的了</span><br><br>info = &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Peter&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">18</span>&#125;<br><span class="hljs-comment">#遍历所有的键</span><br><span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> info.keys():<br>    <span class="hljs-built_in">print</span>(key)<br><span class="hljs-comment"># 遍历所有的值</span><br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> info.values():<br>    <span class="hljs-built_in">print</span>(value)<br><span class="hljs-comment">#同时遍历</span><br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> info.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;key=%s, value=%s&quot;</span>%(key,value))<br>    <br>    <br>out:<br>    name<br>    age<br>    Peter<br><span class="hljs-number">18</span><br>    key=name, value=Peter<br>    key=age, value=<span class="hljs-number">18</span><br></code></pre></td></tr></table></figure><p>参照一下字典的思想，解决一下for循环中同时获取index与value的问题</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用枚举函数，同时拿到列表中的下标和元素内容</span><br>mylist = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">enumerate</span>(mylist))<br><br><span class="hljs-keyword">for</span> i,x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(mylist):<br>    <span class="hljs-built_in">print</span>(i,x)<br>    <br>out:<br>&lt;<span class="hljs-built_in">enumerate</span> <span class="hljs-built_in">object</span> at <span class="hljs-number">0x00000203F0F23E08</span>&gt;<br><span class="hljs-number">0</span> a<br><span class="hljs-number">1</span> b<br><span class="hljs-number">2</span> c<br><span class="hljs-number">3</span> d<br></code></pre></td></tr></table></figure><h2 id="11集合set"><a class="markdownIt-Anchor" href="#11集合set"></a> 11.集合(set)</h2><ul><li><p>set与dict类似，也是一组key的集合，但是不存储value。由于key不能重复，所以set中无重复值，可以用来去重复</p></li><li><p>set是无序的，重复元素在set中被自动过滤</p></li></ul><h3 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h3><p><img src="https://i.loli.net/2021/01/10/s9SQGhvMPTNVqHw.png" alt="image-20210110003138984" /></p><h2 id="12函数function"><a class="markdownIt-Anchor" href="#12函数function"></a> 12.函数（Function）</h2><p>Python中函数可以直接返回多个值，函数中的局部变量用global来声明即可改变全局变量</p><h2 id="13文件操作"><a class="markdownIt-Anchor" href="#13文件操作"></a> 13.文件操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>)    <span class="hljs-comment">#打开文件，write模式，不存在文件时会自动创建</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)    <span class="hljs-comment">#打开文件，read模式，不存在文件时会报错</span><br>f.close()                    <span class="hljs-comment">#关闭文件</span><br><br><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>)    <span class="hljs-comment">#打开文件，write模式</span><br>f.write(<span class="hljs-string">&quot;Hello world!&quot;</span>)<br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br>content = f.read(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(content)               <span class="hljs-comment">#得到“Hello”</span><br>content = f.read(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(content)               <span class="hljs-comment">#得到“ worl”，说明指针不再是指向文件开始处了</span><br>f.close()                    <span class="hljs-comment">#关闭文件</span><br> <br>f.readline()                 <span class="hljs-comment">#读文件，一次读取一行</span><br>f.readlines()                <span class="hljs-comment">#读文件，一次读取所有行</span><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;text1.txt&quot;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(<span class="hljs-string">&quot;python文件操作&quot;</span>)<br><span class="hljs-comment"># 使用with语句读取文件内容</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;text1.txt&quot;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    <span class="hljs-built_in">print</span>(f.read())<br><br><span class="hljs-keyword">import</span> os<br>os.rename(<span class="hljs-string">&quot;text.txt&quot;</span>,<span class="hljs-string">&quot;text0.txt&quot;</span>)<span class="hljs-comment"># 文件重命名</span><br>os.remove(<span class="hljs-string">&quot;text1.txt&quot;</span>)<span class="hljs-comment"># 删除文件</span><br></code></pre></td></tr></table></figure><h2 id="14异常处理"><a class="markdownIt-Anchor" href="#14异常处理"></a> 14.异常处理</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># input()：用于接收输入。</span><br><br>score = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入你的分数&quot;</span>)<span class="hljs-comment"># input函数接收输入，为字符串类型</span><br>score = <span class="hljs-built_in">float</span>(score)<span class="hljs-comment"># 将分数转化为数字类型</span><br><br><span class="hljs-comment"># try:… except Exception:… 是Python中用于捕获异常的语句，如果try中的语句出现错误，则会执行except中的语句。</span><br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-number">100</span>&gt;=score&gt;=<span class="hljs-number">90</span>:<span class="hljs-comment"># 判断输入的值是否大于等级分数</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;优&quot;</span>)   <span class="hljs-comment"># 满足条件后输出等级</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-number">90</span> &gt; score &gt;= <span class="hljs-number">80</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;良&quot;</span>)<br>    <span class="hljs-keyword">elif</span> <span class="hljs-number">80</span>&gt;score&gt;<span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;中&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;差&quot;</span>)<br><span class="hljs-keyword">except</span> Exception:                                  <span class="hljs-comment">#这种是捕获所有异常</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;请输入正确的分数&quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;test1&quot;</span>)<br><br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test1.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)             <span class="hljs-comment">#不存在该文件，报错，文件没找到属于IO异常</span><br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;test2&quot;</span>)                         <span class="hljs-comment">#异常，不会被执行</span><br><br><span class="hljs-keyword">except</span> IOError:                            <span class="hljs-comment">#如果是IO类型的报错，就pass，所以结果没报错</span><br>    <span class="hljs-keyword">pass</span><br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> result：               <span class="hljs-comment">#用as，将报错输出，但不是红色那种</span><br><span class="hljs-built_in">print</span>(result)<br>out:<br>    test1<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;123.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>)                   <span class="hljs-comment">#当不存在123.txt文件时</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            content = f.readline()<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(content) == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">break</span><br>            time.sleep(<span class="hljs-number">2</span>)<br>            <span class="hljs-built_in">print</span>(content)<br>    <span class="hljs-keyword">finally</span>:<br>        f.close()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件关闭&quot;</span>)<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> result:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;发生异常&quot;</span>)<br>    <br>out:<br>    发生异常<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>)                <span class="hljs-comment">#存在test.txt文件时</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            content = f.readline()<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(content) == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">break</span><br>            time.sleep(<span class="hljs-number">2</span>)<br>            <span class="hljs-built_in">print</span>(content,end=<span class="hljs-string">&quot;&quot;</span>)<br>    <span class="hljs-keyword">finally</span>:<br>        f.close()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件关闭&quot;</span>)<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> result:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;发生异常&quot;</span>)<br>    <br>out:<br>    Hello world!<br>Hello world!<br>Hello world!<br>Hello world!<br>Hello world!<br>Hello world!<br>Hello world!<br>Hello world!<br><br>文件关闭<br>    <br></code></pre></td></tr></table></figure><h1 id="basic_python2"><a class="markdownIt-Anchor" href="#basic_python2"></a> Basic_Python(2)</h1><blockquote><p>本文在Basic_Python(1)的基础之上介绍了一些python中的高级特性</p></blockquote><h2 id="1列表生成式"><a class="markdownIt-Anchor" href="#1列表生成式"></a> 1.列表生成式</h2><p>如果我想要创建一个list，我可以使用列表生成式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#可以使用函数关系迭代生成</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">double</span>(<span class="hljs-params">i</span>):</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>*i<br><span class="hljs-built_in">print</span>([double(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)])<br><span class="hljs-comment">#######################################</span><br>out：[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]<br>---------------------------------------<br><span class="hljs-comment">#也可以使用表达式迭代生成</span><br>[<span class="hljs-number">2</span>*i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)]<br><span class="hljs-comment">#######################################</span><br>out：[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]<br>---------------------------------------<br><span class="hljs-comment">#可以使用两层循环迭代生成全排列</span><br><span class="hljs-built_in">print</span>([m + n <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;ABC&#x27;</span> <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-string">&#x27;XYZ&#x27;</span>])<br><span class="hljs-comment">#######################################</span><br>out:[<span class="hljs-string">&#x27;AX&#x27;</span>, <span class="hljs-string">&#x27;AY&#x27;</span>, <span class="hljs-string">&#x27;AZ&#x27;</span>, <span class="hljs-string">&#x27;BX&#x27;</span>, <span class="hljs-string">&#x27;BY&#x27;</span>, <span class="hljs-string">&#x27;BZ&#x27;</span>, <span class="hljs-string">&#x27;CX&#x27;</span>, <span class="hljs-string">&#x27;CY&#x27;</span>, <span class="hljs-string">&#x27;CZ&#x27;</span>]<br>---------------------------------------<br><span class="hljs-comment">#基于dict的键值对可以同时迭代</span><br>d = &#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-string">&#x27;C&#x27;</span> &#125;<br><span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> d.items():<br>     <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&#x27;=&#x27;</span>, v)<br><span class="hljs-comment">#列表生成器也可以同时迭代</span><br>[k + <span class="hljs-string">&#x27;=&#x27;</span> + v <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> d.items()]<br><span class="hljs-comment">#######################################</span><br>out1: x = A<br>  y = B<br>  z = C<br>out2: [<span class="hljs-string">&#x27;x=A&#x27;</span>, <span class="hljs-string">&#x27;y=B&#x27;</span>, <span class="hljs-string">&#x27;z=C&#x27;</span>]<br></code></pre></td></tr></table></figure><p>另外，我们可以使用列表生成器和条件赋值结合在一起使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#条件赋值</span><br>value = <span class="hljs-string">&#x27;cat&#x27;</span> <span class="hljs-keyword">if</span> <span class="hljs-number">2</span>&gt;<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;dog&#x27;</span><br>value<br><span class="hljs-comment">#######################################</span><br>out ：<span class="hljs-string">&#x27;cat&#x27;</span><br>---------------------------------------<br>L = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br>[i <span class="hljs-keyword">if</span> i &lt;= <span class="hljs-number">5</span> <span class="hljs-keyword">else</span> <span class="hljs-number">5</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> L]<br><span class="hljs-comment">#######################################</span><br>out ：[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]<br>---------------------------------------<br><span class="hljs-comment">#结合使用</span><br>[i*<span class="hljs-number">3</span> <span class="hljs-keyword">if</span> i%<span class="hljs-number">2</span>==<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> i*<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> L]<br><span class="hljs-comment">#######################################</span><br>out ：[<span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">12</span>, <span class="hljs-number">10</span>, <span class="hljs-number">18</span>, <span class="hljs-number">14</span>]<br></code></pre></td></tr></table></figure><h2 id="2高阶函数"><a class="markdownIt-Anchor" href="#2高阶函数"></a> 2.高阶函数</h2><ul><li>在python中我们可以使用匿名函数，可以避免定义，随用随写，且不用考虑函数名冲突的问题</li><li>与def关键字定义的函数相比，不需要名字（lambda是他们的统一关键字，不是名字)，无法调用全局变量</li><li>为了给高阶函数传参，有时创建一次性的小型函数更便利，这便是匿名函数存在的原因</li></ul><h3 id="21关键字lambda"><a class="markdownIt-Anchor" href="#21关键字lambda"></a> 2.1关键字lambda</h3><ul><li>关键字<code>lambda</code>表示匿名函数，使用方法为：<code>lambda arguments:expression(argu1,argu2...)</code></li><li>lambda函数的定义体中不能赋值，也不能使用<code>while</code>和<code>try</code>等<code>python</code>语句</li><li>lambda只是一个语法糖</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#将lambda函数赋值给变量a，a具有了功能</span><br>a = <span class="hljs-keyword">lambda</span> x,y : x*y<br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(a(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>))<br><span class="hljs-comment">######################################</span><br>out1 :&lt;function &lt;<span class="hljs-keyword">lambda</span>&gt; at <span class="hljs-number">0x000001B6E26AB048</span>&gt;<br>out2 :<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h3 id="22高阶函数map"><a class="markdownIt-Anchor" href="#22高阶函数map"></a> 2.2高阶函数map</h3><blockquote><p>“在 Python 3 中，map 和 filter 返回生成器（一种迭代器），因此现在 它们的直接替代品是生成器表达式（在 Python 2 中，这两个函数返回列表，因此最接近的替代品是列表推导）”                                    《流畅的python》</p></blockquote><ul><li><code>map(function,iterable)</code></li><li><code>map</code>使用<code>function</code>对<code>iterable</code>中的元素进行逐个映射并且返回</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-keyword">lambda</span> x: x*<span class="hljs-number">2</span><br>L = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-built_in">map</span>(a,L)          <span class="hljs-comment"># 返回不出列表，返回的是迭代器</span><br><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(a,L))    <span class="hljs-comment"># 返回出一个列表</span><br><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-number">2</span>*x, <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)))<br><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x, y: <span class="hljs-built_in">str</span>(x)+<span class="hljs-string">&#x27;_&#x27;</span>+y, <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>), <span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abcde&#x27;</span>)))<br><span class="hljs-comment">##############################################</span><br>out1 :&lt;<span class="hljs-built_in">map</span> at <span class="hljs-number">0x1b6e26b67c8</span>&gt;<br>out2 :[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>]<br>out3 :[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]<br>out4 :[<span class="hljs-string">&#x27;0_a&#x27;</span>, <span class="hljs-string">&#x27;1_b&#x27;</span>, <span class="hljs-string">&#x27;2_c&#x27;</span>, <span class="hljs-string">&#x27;3_d&#x27;</span>, <span class="hljs-string">&#x27;4_e&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="23zip函数与enumerate方法"><a class="markdownIt-Anchor" href="#23zip函数与enumerate方法"></a> 2.3Zip函数与enumerate方法</h3><ul><li><p><code>zip</code>函数把多个可迭代的对象打包成一个由元组构成的生成器，元组中的元素来自参数传入的各个可迭代对象</p></li><li><p><code>enumerate</code> 是一种特殊的打包，它可以在迭代时绑定迭代元素的遍历序号</p></li><li><p>循环迭代的时候使用到 <code>zip</code> 函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python">L1, L2, L3 = <span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abc&#x27;</span>), <span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;def&#x27;</span>), <span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;hij&#x27;</span>)<br><span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(L1, L2, L3))<br><span class="hljs-built_in">tuple</span>(<span class="hljs-built_in">zip</span>(L1, L2, L3))<br><span class="hljs-keyword">for</span> i, j, k <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(L1, L2, L3):<br><span class="hljs-built_in">print</span>(i, j, k)<br>L = <span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abcd&#x27;</span>)<br><span class="hljs-comment"># 迭代时绑定迭代元素的遍历序号</span><br><span class="hljs-keyword">for</span> index, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(L):<br>    <span class="hljs-built_in">print</span>(index, value)<br><span class="hljs-comment"># 使用zip的等效做法</span><br><span class="hljs-keyword">for</span> index, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(L)), L):<br><span class="hljs-built_in">print</span>(index, value)<br><span class="hljs-comment"># 解压操作（使用*）</span><br>zipped = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(L1, L2, L3))<br><span class="hljs-built_in">print</span>(zipped)<br><span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(*zipped)) <span class="hljs-comment"># 三个元组分别对应原来的列表</span><br><span class="hljs-comment">##########################################</span><br>Out1: [(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>), (<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>)]<br>Out2: ((<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>), (<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>))<br>Out3: a d h<br>  b e i<br>  c f j<br>Out4: <span class="hljs-number">0</span> a<br>  <span class="hljs-number">1</span> b<br>  <span class="hljs-number">2</span> c<br>  <span class="hljs-number">3</span> d<br>Out5: [(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>), (<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>)]<br>Out6: [(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>), (<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>), (<span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>)]<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在Windows环境下安装Linux虚拟机</title>
    <link href="/2021/01/10/%E4%BD%BF%E7%94%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85Linux/"/>
    <url>/2021/01/10/%E4%BD%BF%E7%94%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85Linux/</url>
    
    <content type="html"><![CDATA[<h2 id="1下载ubuntu镜像文件与vmware"><a class="markdownIt-Anchor" href="#1下载ubuntu镜像文件与vmware"></a> 1.下载Ubuntu镜像文件与VMware</h2><p>本次安装是使用Linux的常用发行版本Ubuntu，并且使用VMware15Pro建立虚拟机进行安装</p><blockquote><p>Linux版本：ubuntu-20.04.2.0-desktop-amd64.iso</p><p>下载地址：<a href="http://www.ubuntu.com">http://www.ubuntu.com</a></p></blockquote><blockquote><p>VM版本：VMware Workstation 15 Pro</p><p>下载地址:  baidupan</p></blockquote><h2 id="2使用虚拟机安装ubuntu"><a class="markdownIt-Anchor" href="#2使用虚拟机安装ubuntu"></a> 2.使用虚拟机安装Ubuntu</h2><p><code>新建虚拟机</code>–&gt;<code>自定义</code>–&gt;<code>下一步</code>–&gt;<code>稍后安装操作系统</code>–&gt;<code>选择linux-以及Ubuntu64位</code>–&gt;<code>选择提前建好的文件夹作</code></p><p><code>为安装位置</code>–&gt;<code>设置参数按需求设置</code>–&gt;<code>将虚拟磁盘存储为单个文件</code>–&gt;<code>自定义硬件</code>–&gt;</p><p><code>点击“新CD···”选择我们之前下载的Ubuntu镜像</code>–&gt;<code>完成</code>–&gt;<code>开启虚拟机</code>–&gt;<code>左侧选择语言简体中文</code>–&gt;</p><p><code>右侧选择安装</code>–&gt;<code>提示清除磁盘仍选现在安装</code>–&gt;<code>继续</code>–&gt;<code>位置设置上海</code>–&gt;<code>设置用户名密码</code>–&gt;<code>安装后重启</code></p><h2 id="3重启电脑后打开虚拟机直接蓝屏"><a class="markdownIt-Anchor" href="#3重启电脑后打开虚拟机直接蓝屏"></a> 3.重启电脑后，打开虚拟机，直接蓝屏</h2><ul><li>解决方案1：<ul><li>windows搜索：<code>启用或关闭windows功能</code></li><li>将<code>windows虚拟机监控平台</code>前面打勾</li><li>将<code>虚拟机平台</code>前面打勾</li><li>重启计算机即可</li></ul></li><li>解决方案2：<ul><li>在虚拟机设置里，把声卡、USB、打印机移除掉</li></ul></li></ul><h2 id="4启动虚拟机报错"><a class="markdownIt-Anchor" href="#4启动虚拟机报错"></a> 4.启动虚拟机报错</h2><blockquote><p>VMware WorkStation 与 Device/Credential Guard不兼容，在禁用Device/Credential Guard后，可以运行···</p></blockquote><ul><li>解决方案：<ul><li>禁用Hyper-V服务<code>Win+R</code>–&gt;<code>services.msc</code>，找到Hyper-V服务并禁用</li><li>管理员身份运行powershell，<code>Win+R</code>–&gt;<code>powershell</code>–&gt;<code>Start-process powershell -Verb runAs</code></li><li>输入<code>bcdedit /set hypervisorlaunchtype off</code>–&gt;<code>是</code></li><li>重启计算机，运行虚拟机</li></ul></li></ul><p><img src="https://i.loli.net/2021/03/21/pogDAw7GRrv1XKU.png" alt="image-20210321164704431" /></p><p><img src="https://i.loli.net/2021/03/21/JlA4KhDidPwf3zv.png" alt="image-20210321164911649" /></p><h2 id="5linux换源"><a class="markdownIt-Anchor" href="#5linux换源"></a> 5.Linux换源</h2><ul><li>备份初始源，以防丢失</li></ul><p><code>sudo cp /etc/apt/sources.list /etc/apt/sources_init.list</code></p><ul><li>打开源列表</li></ul><p><code>sudo gedit /etc/apt/sources.list</code></p><ul><li>将源列表内容换成清华源</li></ul><figure class="highlight html"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><pre><code class="hljs html">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse <br># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse <br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse <br># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse <br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse <br># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse <br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse <br># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse<br></code></pre></td></tr></table></figure><ul><li>更新源</li></ul><p><code>sudo apt-get update</code></p><p><code>sudo apt-get upgrade</code></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>服务器到期之后的数据迁移</title>
    <link href="/2020/09/11/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E6%9C%9F%E4%B9%8B%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB/"/>
    <url>/2020/09/11/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%B0%E6%9C%9F%E4%B9%8B%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="服务器到期之后的数据迁移"><a class="markdownIt-Anchor" href="#服务器到期之后的数据迁移"></a> 服务器到期之后的数据迁移</h1><h2 id="1环境"><a class="markdownIt-Anchor" href="#1环境"></a> 1.环境</h2><h5 id="仍然使用阿里云服务器购买和上次一样的区域的服务器主要是方便迁移故继续选择华北2-北京"><a class="markdownIt-Anchor" href="#仍然使用阿里云服务器购买和上次一样的区域的服务器主要是方便迁移故继续选择华北2-北京"></a> 仍然使用阿里云服务器，购买和上次一样的区域的服务器，主要是方便迁移，故继续选择：华北2-北京</h5><h2 id="2生成旧实例的镜像"><a class="markdownIt-Anchor" href="#2生成旧实例的镜像"></a> 2.生成旧实例的镜像</h2><h5 id="这一步是生成之前服务器的镜像即可将所有数据保留以便后续转移到新实例中去"><a class="markdownIt-Anchor" href="#这一步是生成之前服务器的镜像即可将所有数据保留以便后续转移到新实例中去"></a> 这一步是生成之前服务器的镜像，即可将所有数据保留，以便后续转移到新实例中去。</h5><h5 id="点击下图中的管理数据创建自定义镜像即可"><a class="markdownIt-Anchor" href="#点击下图中的管理数据创建自定义镜像即可"></a> 点击下图中的管理数据，创建自定义镜像即可。</h5><p><img src="https://i.loli.net/2021/02/12/WeYgDU4LJr5tFci.png" alt="image-20210212213607628" /></p><h2 id="3更换云盘"><a class="markdownIt-Anchor" href="#3更换云盘"></a> 3.更换云盘</h2><h5 id="在新实例中将云盘更换即选择上图中更操作系统的选项"><a class="markdownIt-Anchor" href="#在新实例中将云盘更换即选择上图中更操作系统的选项"></a> 在新实例中将云盘更换，即选择上图中“更操作系统”的选项。</h5><h2 id="4配置安全组文件"><a class="markdownIt-Anchor" href="#4配置安全组文件"></a> 4.配置安全组文件</h2><h5 id="导出旧实例的安全组文件为json格式文件再去新实例中导入该文件即可"><a class="markdownIt-Anchor" href="#导出旧实例的安全组文件为json格式文件再去新实例中导入该文件即可"></a> 导出旧实例的安全组文件为json格式文件，再去新实例中导入该文件即可。</h5><p><img src="https://i.loli.net/2021/02/12/y5IaPQS8zedYv6o.png" alt="image-20210212214433451" /></p><h2 id="5项目配置"><a class="markdownIt-Anchor" href="#5项目配置"></a> 5.项目配置</h2><h5 id="使用window系统的远程连接进行虚拟机上的项目配置-登录密码是更换云盘时设置的用户名为默认的administrator"><a class="markdownIt-Anchor" href="#使用window系统的远程连接进行虚拟机上的项目配置-登录密码是更换云盘时设置的用户名为默认的administrator"></a> 使用window系统的远程连接，进行虚拟机上的项目配置。登录密码是更换云盘时设置的，用户名为默认的administrator</h5><h5 id="有三个地方要注意"><a class="markdownIt-Anchor" href="#有三个地方要注意"></a> 有三个地方要注意，</h5><h5 id="一是数据库要打开保证在winr后输入servicesmsc后找到mysql使其运行再在navicat里运行数据库连接"><a class="markdownIt-Anchor" href="#一是数据库要打开保证在winr后输入servicesmsc后找到mysql使其运行再在navicat里运行数据库连接"></a> 一是数据库要打开，保证在win+R后输入services.msc后，找到mysql使其运行，再在Navicat里运行数据库连接。</h5><p><img src="https://i.loli.net/2021/02/12/dZWD4JEFhzwvous.png" alt="image-20210212214843131" /></p><h5 id="二是要在tomcat的bin文件里运行startupbat文件运行后不要关闭终端"><a class="markdownIt-Anchor" href="#二是要在tomcat的bin文件里运行startupbat文件运行后不要关闭终端"></a> 二是要在Tomcat的bin文件里运行startup.bat文件，运行后不要关闭终端</h5><h5 id="三是更换域名解析的ip地址到新的实例的公网ip这个在手机上阿里云app设置也挺方便"><a class="markdownIt-Anchor" href="#三是更换域名解析的ip地址到新的实例的公网ip这个在手机上阿里云app设置也挺方便"></a> 三是更换域名解析的ip地址到新的实例的公网ip，这个在手机上阿里云app设置也挺方便</h5><p><img src="https://i.loli.net/2021/02/12/PXIjrEsGzbqyOad.png" alt="image-20210212214706189" /></p>]]></content>
    
    
    <categories>
      
      <category>博客搭建</category>
      
    </categories>
    
    
    <tags>
      
      <tag>服务器</tag>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>物理化学实验（上）-MATLAB作图源码</title>
    <link href="/2020/06/11/%E7%89%A9%E5%8C%96%E4%B8%8A-%E4%BD%9C%E5%9B%BE%E6%BA%90%E7%A0%81/"/>
    <url>/2020/06/11/%E7%89%A9%E5%8C%96%E4%B8%8A-%E4%BD%9C%E5%9B%BE%E6%BA%90%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h2 id="0linefit"><a class="markdownIt-Anchor" href="#0linefit"></a> 0.linefit</h2><figure class="highlight matlab"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">[k,b]</span>=<span class="hljs-title">linefit</span><span class="hljs-params">(x,y)</span>%实现线性拟合功能</span><br>n=<span class="hljs-built_in">length</span>(x);<span class="hljs-comment">%获取x数组元素个数</span><br>x=<span class="hljs-built_in">reshape</span>(x,n,<span class="hljs-number">1</span>);<span class="hljs-comment">%把x转置为n行一列的矩阵</span><br>y=<span class="hljs-built_in">reshape</span>(y,n,<span class="hljs-number">1</span>);<span class="hljs-comment">%把y转置为n行一列的矩阵</span><br>A=[x,<span class="hljs-built_in">ones</span>(n,<span class="hljs-number">1</span>)];<span class="hljs-comment">%将x与同行数的列向量合并为一个n行2列的矩阵</span><br>bb=y;<br>B=A&#x27;*A;<span class="hljs-comment">%得到一个二行二列方阵</span><br>bb=A&#x27;*bb;<br>yy=B\bb;<br>k=yy(<span class="hljs-number">1</span>);<br>b=yy(<span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><h2 id="1凝固点降低法测沸点"><a class="markdownIt-Anchor" href="#1凝固点降低法测沸点"></a> 1.凝固点降低法测沸点</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">x=<span class="hljs-number">10</span>:<span class="hljs-number">10</span>:<span class="hljs-number">250</span>;<br>y=[<span class="hljs-number">4.072</span><span class="hljs-number">4.067</span><span class="hljs-number">4.051</span><span class="hljs-number">4.020</span><span class="hljs-number">3.990</span><span class="hljs-number">3.966</span><span class="hljs-number">3.949</span><span class="hljs-number">3.941</span><span class="hljs-number">3.940</span><span class="hljs-number">3.941</span><span class="hljs-number">3.946</span><span class="hljs-number">3.951</span><span class="hljs-number">3.964</span><span class="hljs-number">3.995</span><span class="hljs-number">4.011</span><span class="hljs-number">4.031</span><span class="hljs-number">4.022</span><span class="hljs-number">4.017</span><span class="hljs-number">4.017</span><span class="hljs-number">4.014</span><span class="hljs-number">4.015</span><span class="hljs-number">4.014</span><span class="hljs-number">4.014</span><span class="hljs-number">4.014</span><span class="hljs-number">4.015</span><br>];<br>x1=<span class="hljs-number">10</span>:<span class="hljs-number">10</span>:<span class="hljs-number">410</span>;<br>y1=[<span class="hljs-number">4.776</span> <span class="hljs-number">4.641</span><span class="hljs-number">4.509</span><span class="hljs-number">4.376</span><span class="hljs-number">4.259</span><span class="hljs-number">4.159</span><span class="hljs-number">4.074</span><span class="hljs-number">4.029</span><span class="hljs-number">4.020</span><span class="hljs-number">4.023</span><span class="hljs-number">4.028</span><span class="hljs-number">4.031</span><span class="hljs-number">4.032</span><span class="hljs-number">4.031</span><span class="hljs-number">4.032</span><span class="hljs-number">4.032</span><span class="hljs-number">4.030</span><span class="hljs-number">4.030</span><span class="hljs-number">4.030</span><span class="hljs-number">4.03</span><span class="hljs-number">4.029</span><span class="hljs-number">4.028</span><span class="hljs-number">4.028</span><span class="hljs-number">4.028</span><span class="hljs-number">4.027</span><span class="hljs-number">4.026</span><span class="hljs-number">4.026</span><span class="hljs-number">4.025</span><span class="hljs-number">4.026</span><span class="hljs-number">4.025</span><span class="hljs-number">4.026</span><span class="hljs-number">4.025</span><span class="hljs-number">4.025</span><span class="hljs-number">4.024</span><span class="hljs-number">4.022</span><span class="hljs-number">4.020</span><span class="hljs-number">4.019</span><span class="hljs-number">4.017</span><span class="hljs-number">4.015</span><span class="hljs-number">4.013</span><span class="hljs-number">4.011</span><br>];<br><span class="hljs-comment">%曲线化</span><br>xx1=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">10</span>,<span class="hljs-number">250</span>);<br>yy1=spline(x,y,xx1);<br><span class="hljs-built_in">plot</span>(x1,y1,<span class="hljs-string">&#x27;rs&#x27;</span>,x,y,<span class="hljs-string">&#x27;*&#x27;</span>);<span class="hljs-comment">%先把方格和星号画出来，以便使用legend</span><br><span class="hljs-built_in">hold</span> on;<span class="hljs-comment">%注意hold on,以便一张画布上画多个图线，下同</span><br><span class="hljs-built_in">plot</span>(xx1,yy1,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-comment">%plot(x,y,&#x27;*&#x27;);</span><br>xlabel(<span class="hljs-string">&#x27;t / 10 s&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;△T / ℃&#x27;</span>);<br><span class="hljs-comment">%grid on;</span><br>title(<span class="hljs-string">&#x27;溶剂冷却曲线&#x27;</span>);<br>axis([<span class="hljs-number">0</span>,<span class="hljs-number">300</span>,<span class="hljs-number">3.9</span>,<span class="hljs-number">4.2</span>]);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-built_in">plot</span>([<span class="hljs-number">0</span> <span class="hljs-number">300</span>],[<span class="hljs-number">4.014</span> <span class="hljs-number">4.014</span>],<span class="hljs-string">&#x27;--&#x27;</span>);<br><br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-comment">%做曲线化，不是折线</span><br>xx2=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">10</span>,<span class="hljs-number">410</span>);<br>yy2=spline(x1,y1,xx);<br><span class="hljs-built_in">plot</span>(xx2,yy2,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-comment">%plot(x,y,&#x27;*&#x27;,x1,y1,&#x27;rs&#x27;);</span><br>xlabel(<span class="hljs-string">&#x27;t / 10 s&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;T / ℃&#x27;</span>);<br><span class="hljs-comment">%grid on;</span><br><span class="hljs-comment">%title(&#x27;溶剂2&#x27;);</span><br><span class="hljs-comment">%axis([0,450,4,4.2]);</span><br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-built_in">plot</span>([<span class="hljs-number">0</span> <span class="hljs-number">450</span>],[<span class="hljs-number">4.031</span> <span class="hljs-number">4.031</span>],<span class="hljs-string">&#x27;--&#x27;</span>);<br><span class="hljs-built_in">legend</span>(<span class="hljs-string">&#x27;溶剂1&#x27;</span>,<span class="hljs-string">&#x27;溶剂2&#x27;</span>);<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/ywrS7WQicdLnBDR.jpg" alt="PC1" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">x2=<span class="hljs-number">10</span>:<span class="hljs-number">10</span>:<span class="hljs-number">300</span>;<br>y2=[<span class="hljs-number">4.138</span><span class="hljs-number">4.062</span><span class="hljs-number">3.984</span><span class="hljs-number">3.916</span><span class="hljs-number">3.839</span><span class="hljs-number">3.764</span><span class="hljs-number">3.688</span><span class="hljs-number">3.615</span><span class="hljs-number">3.542</span><span class="hljs-number">3.470</span><span class="hljs-number">3.400</span><span class="hljs-number">3.332</span><span class="hljs-number">3.267</span><span class="hljs-number">3.204</span><span class="hljs-number">3.148</span><span class="hljs-number">3.103</span><span class="hljs-number">3.106</span><span class="hljs-number">3.117</span><span class="hljs-number">3.119</span><span class="hljs-number">3.117</span><span class="hljs-number">3.114</span><span class="hljs-number">3.109</span><span class="hljs-number">3.104</span><span class="hljs-number">3.098</span><span class="hljs-number">3.092</span><span class="hljs-number">3.086</span><span class="hljs-number">3.078</span><span class="hljs-number">3.072</span><span class="hljs-number">3.064</span><span class="hljs-number">3.060</span>];<br>x3=<span class="hljs-number">10</span>:<span class="hljs-number">10</span>:<span class="hljs-number">290</span>;<br>y3=[<span class="hljs-number">4.365</span><span class="hljs-number">4.235</span><span class="hljs-number">4.106</span><span class="hljs-number">3.985</span><span class="hljs-number">3.864</span><span class="hljs-number">3.75</span><span class="hljs-number">3.638</span><span class="hljs-number">3.526</span><span class="hljs-number">3.420</span><span class="hljs-number">3.316</span><span class="hljs-number">3.212</span><span class="hljs-number">3.120</span><span class="hljs-number">3.031</span><span class="hljs-number">2.983</span><span class="hljs-number">3.045</span><span class="hljs-number">3.082</span><span class="hljs-number">3.095</span><span class="hljs-number">3.096</span><span class="hljs-number">3.093</span><span class="hljs-number">3.087</span><span class="hljs-number">3.080</span><span class="hljs-number">3.072</span><span class="hljs-number">3.063</span><span class="hljs-number">3.054</span><span class="hljs-number">3.045</span><span class="hljs-number">3.036</span><span class="hljs-number">3.027</span><span class="hljs-number">3.018</span><span class="hljs-number">3.011</span>];<br><br>xx3=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">10</span>,<span class="hljs-number">300</span>);<br>yy3=spline(x2,y2,xx3);<br><br><span class="hljs-built_in">plot</span>(x2,y2,<span class="hljs-string">&#x27;rs&#x27;</span>,x3,y3,<span class="hljs-string">&#x27;*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><br><span class="hljs-built_in">plot</span>(xx3,yy3,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><br>xlabel(<span class="hljs-string">&#x27;t / 10 s&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;T / ℃&#x27;</span>);<br><span class="hljs-comment">%grid on;</span><br>title(<span class="hljs-string">&#x27;溶液1&#x27;</span>);<br>axis([<span class="hljs-number">0</span>,<span class="hljs-number">350</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4.15</span>]);<br><span class="hljs-built_in">hold</span> on;<br><br><span class="hljs-comment">%plot([0 450],[4.031 4.031],&#x27;--&#x27;);</span><br><span class="hljs-built_in">hold</span> on;<br><br><span class="hljs-comment">%初始数据</span><br>x4=<span class="hljs-number">190</span>:<span class="hljs-number">10</span>:<span class="hljs-number">300</span>;<br>x5=<span class="hljs-number">10</span>:<span class="hljs-number">10</span>:<span class="hljs-number">300</span>;<br>y4=[<span class="hljs-number">3.119</span><span class="hljs-number">3.117</span><span class="hljs-number">3.114</span><span class="hljs-number">3.109</span><span class="hljs-number">3.104</span><span class="hljs-number">3.098</span><span class="hljs-number">3.092</span><span class="hljs-number">3.086</span><span class="hljs-number">3.078</span><span class="hljs-number">3.072</span><span class="hljs-number">3.064</span><span class="hljs-number">3.060</span>];<br><span class="hljs-comment">%获得线性拟合系数</span><br>[k,b]=linefit(x4,y4);<br>y5=polyval([k,b],x5);<br><span class="hljs-built_in">plot</span>(x5,y5);<br><span class="hljs-built_in">hold</span> on;<br><br>xx4=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">10</span>,<span class="hljs-number">290</span>);<br>yy4=spline(x3,y3,xx4);<br><span class="hljs-built_in">plot</span>(xx4,yy4,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-comment">%plot(x3,y3,&#x27;*&#x27;);</span><br>xlabel(<span class="hljs-string">&#x27;t / 10 s&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;△T / ℃&#x27;</span>);<br><span class="hljs-comment">%grid on;</span><br>title(<span class="hljs-string">&#x27;溶液2&#x27;</span>);<br>axis([<span class="hljs-number">0</span>,<span class="hljs-number">320</span>,<span class="hljs-number">2.9</span>,<span class="hljs-number">4.4</span>]);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-comment">%plot([0 450],[4.031 4.031],&#x27;--&#x27;);</span><br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-comment">%初始数据</span><br>x4=<span class="hljs-number">180</span>:<span class="hljs-number">10</span>:<span class="hljs-number">290</span>;<br>x5=<span class="hljs-number">10</span>:<span class="hljs-number">10</span>:<span class="hljs-number">290</span>;<br>y4=[<span class="hljs-number">3.096</span><span class="hljs-number">3.093</span><span class="hljs-number">3.087</span><span class="hljs-number">3.080</span><span class="hljs-number">3.072</span><span class="hljs-number">3.063</span><span class="hljs-number">3.054</span><span class="hljs-number">3.045</span><span class="hljs-number">3.036</span><span class="hljs-number">3.027</span><span class="hljs-number">3.018</span><span class="hljs-number">3.011</span>];<br><span class="hljs-comment">%获得线性拟合系数</span><br>[k,b]=linefit(x4,y4);<br>y5=polyval([k,b],x5);<br><span class="hljs-built_in">plot</span>(x5,y5);<br><br><span class="hljs-built_in">legend</span>(<span class="hljs-string">&#x27;溶液1&#x27;</span>,<span class="hljs-string">&#x27;溶液2&#x27;</span>);<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/PRXUtn9Dj2YNEVb.jpg" alt="PC2" /></p><h2 id="2饱和气压"><a class="markdownIt-Anchor" href="#2饱和气压"></a> 2.饱和气压</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">A=[<span class="hljs-number">336.97</span> <span class="hljs-number">338.53</span> <span class="hljs-number">340.28</span> <span class="hljs-number">342.02</span> <span class="hljs-number">343.50</span> <span class="hljs-number">345.07</span> <span class="hljs-number">346.60</span> <span class="hljs-number">348.76</span>];<br>B=[<span class="hljs-number">55.84</span><br><span class="hljs-number">59.64</span><br><span class="hljs-number">64.44</span><br><span class="hljs-number">69.44</span><br><span class="hljs-number">73.94</span><br><span class="hljs-number">79.14</span><br><span class="hljs-number">84.04</span><br><span class="hljs-number">91.94</span><br>];<br>B=B&#x27;;<br>xx=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">330</span>,<span class="hljs-number">350</span>);<br>yy=spline(A,B,xx);<br><span class="hljs-built_in">plot</span>(xx,yy,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;*&#x27;</span>);<br>xlabel(<span class="hljs-string">&#x27;T / K&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;乙醇饱和蒸气压/KPa&#x27;</span>);<br>title(<span class="hljs-string">&#x27;乙醇的饱和蒸气压-温度图&#x27;</span>);<br>axis([<span class="hljs-number">336</span>,<span class="hljs-number">350</span>,<span class="hljs-number">55</span>,<span class="hljs-number">95</span>]);<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/sQUPGS5LYK3VoHR.jpg" alt="PC1" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">C=[<span class="hljs-number">11.43</span><br><span class="hljs-number">11.34</span><br><span class="hljs-number">11.28</span><br><span class="hljs-number">11.21</span><br><span class="hljs-number">11.15</span><br><span class="hljs-number">11.07</span><br><span class="hljs-number">11.00</span><br><span class="hljs-number">10.93</span>];<br>C=C&#x27;;<br>D=[<span class="hljs-number">2.87</span><br><span class="hljs-number">2.89</span><br><span class="hljs-number">2.90</span><br><span class="hljs-number">2.91</span><br><span class="hljs-number">2.92</span><br><span class="hljs-number">2.94</span><br><span class="hljs-number">2.95</span><br><span class="hljs-number">2.97</span><br>];<br>D=D&#x27;;<br><span class="hljs-comment">%xx=linspace(2.85,3);</span><br><span class="hljs-comment">%yy=spline(D,C,xx);</span><br><br>[k,b]=linefit(D,C);<br>x=<span class="hljs-number">2.5</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">3</span>;<br>y=polyval([k,b],x);<br><span class="hljs-built_in">plot</span>(x,y);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-built_in">plot</span>(D,C,<span class="hljs-string">&#x27;*&#x27;</span>);<br>xlabel(<span class="hljs-string">&#x27;(10^3/T)K-1&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;ln(P/Pa)&#x27;</span>);<br>title(<span class="hljs-string">&#x27;ln(P/Pa)-1/T图&#x27;</span>);<br>axis([<span class="hljs-number">2.85</span>,<span class="hljs-number">3</span>,<span class="hljs-number">10.9</span>,<span class="hljs-number">11.5</span>]);<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/QENVRjkFr4qXaAg.jpg" alt="PC2" /></p><h2 id="3平衡常数"><a class="markdownIt-Anchor" href="#3平衡常数"></a> 3.平衡常数</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs matlab">A = [<span class="hljs-number">3.0936</span><span class="hljs-number">3.1432</span><span class="hljs-number">3.1934</span><span class="hljs-number">3.2452</span><span class="hljs-number">3.2987</span>];<br>B = [<span class="hljs-number">-3.2648</span><span class="hljs-number">-4.1842</span> <span class="hljs-number">-5.1592</span>  <span class="hljs-number">-6.1351</span><span class="hljs-number">-7.1816</span>];<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;bs&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>C=<span class="hljs-number">3</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">3.4</span>;<br>[k,b]=linefit(A,B);<br>y=polyval([k,b],C);<br><span class="hljs-built_in">plot</span>(C,y);<br><br>xlabel(<span class="hljs-string">&#x27;(10^3/T)/K-1&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;lnK^θ&#x27;</span>);<br><span class="hljs-comment">%title(&#x27;ln(P/Pa)-1/T图&#x27;);</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/JTN1SLHIOAteKMX.jpg" alt="PC1" /></p><h2 id="4反应焓"><a class="markdownIt-Anchor" href="#4反应焓"></a> 4.反应焓</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB"><span class="hljs-comment">%拟合直线1</span><br>A=<span class="hljs-number">12</span>:<span class="hljs-number">1</span>:<span class="hljs-number">19</span>;<br>B=[<span class="hljs-number">6.073</span> <span class="hljs-number">6.079</span> <span class="hljs-number">6.083</span><span class="hljs-number">6.09</span><span class="hljs-number">6.094</span><span class="hljs-number">6.098</span><span class="hljs-number">6.1</span> <span class="hljs-number">6.102</span>];<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;b*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>C=[A,<span class="hljs-number">19.5</span>];<br>[k,b]=linefit(A,B);<br>y=polyval([k,b],C);<br><span class="hljs-built_in">plot</span>(C,y);<br>axis([<span class="hljs-number">10</span>,<span class="hljs-number">29</span>,<span class="hljs-number">4.8</span>,<span class="hljs-number">6.3</span>]);<br><span class="hljs-built_in">hold</span> on;<br><br><span class="hljs-comment">%拟合直线2</span><br>D=<span class="hljs-number">20</span>:<span class="hljs-number">1</span>:<span class="hljs-number">27</span>;<br>E=[<span class="hljs-number">5.042</span><span class="hljs-number">5.068</span><span class="hljs-number">5.071</span><span class="hljs-number">5.068</span><span class="hljs-number">5.074</span><span class="hljs-number">5.072</span><span class="hljs-number">5.08</span><span class="hljs-number">5.084</span>];<br><span class="hljs-built_in">plot</span>(D,E,<span class="hljs-string">&#x27;b*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>F=[<span class="hljs-number">19.5</span>,D];<br>[k1,b1]=linefit(D,E);<br>y1=polyval([k1,b1],F);<br><span class="hljs-built_in">plot</span>(F,y1,<span class="hljs-string">&#x27;b&#x27;</span>);<br><br><span class="hljs-comment">%连接中间两点作斜直线</span><br><span class="hljs-built_in">hold</span> on;<br>G=[<span class="hljs-number">19</span>,<span class="hljs-number">20</span>];<br>H=[<span class="hljs-number">6.102</span>,<span class="hljs-number">5.042</span>];<br><span class="hljs-built_in">plot</span>(G,H,<span class="hljs-string">&#x27;b&#x27;</span>)<br><br><span class="hljs-comment">%绘制垂直直线</span><br><span class="hljs-built_in">hold</span> on;<br>line([<span class="hljs-number">19.5</span>,<span class="hljs-number">19.5</span>],[<span class="hljs-number">4.8</span>,<span class="hljs-number">6.5</span>],<span class="hljs-string">&#x27;linestyle&#x27;</span>,<span class="hljs-string">&#x27;--&#x27;</span>,<span class="hljs-string">&#x27;Color&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>);<br><br><span class="hljs-comment">%绘制两个交点圆点</span><br><span class="hljs-built_in">hold</span> on;<br>x1=<span class="hljs-number">19.5</span>;<br>y1=k*x1+b;<br><span class="hljs-built_in">plot</span>(x1,y1,<span class="hljs-string">&#x27;ro&#x27;</span>);<br>x2=<span class="hljs-number">19.5</span>;<br>y2=k1*x2+b1;<br><span class="hljs-built_in">plot</span>(x2,y2,<span class="hljs-string">&#x27;ro&#x27;</span>);<br><br><span class="hljs-comment">%绘制横纵坐标注释</span><br>xlabel(<span class="hljs-string">&#x27;t/min&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;△T/℃&#x27;</span>);<br><span class="hljs-comment">%title(&#x27;图1 标准曲线图&#x27;,&#x27;position&#x27;,[-0.7 200]);</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/nNYuRUiOh3d4Bvf.png" alt="PC1" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB"><span class="hljs-comment">%拟合直线1</span><br>A=<span class="hljs-number">2</span>:<span class="hljs-number">1</span>:<span class="hljs-number">9</span>;<br>B=[<span class="hljs-number">6.334</span> <span class="hljs-number">6.332</span> <span class="hljs-number">6.329</span><span class="hljs-number">6.327</span><span class="hljs-number">6.326</span><span class="hljs-number">6.325</span><span class="hljs-number">6.324</span> <span class="hljs-number">6.323</span>];<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;b*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>C=[A,<span class="hljs-number">9.5</span>];<br>[k,b]=linefit(A,B);<br>y=polyval([k,b],C);<br><span class="hljs-built_in">plot</span>(C,y);<br>axis([<span class="hljs-number">1</span>,<span class="hljs-number">21</span>,<span class="hljs-number">6.2</span>,<span class="hljs-number">7</span>]);<br><span class="hljs-built_in">hold</span> on;<br><br><span class="hljs-comment">%拟合直线2</span><br>D=<span class="hljs-number">10</span>:<span class="hljs-number">1</span>:<span class="hljs-number">17</span>;<br>E=[<span class="hljs-number">6.796</span><span class="hljs-number">6.826</span><span class="hljs-number">6.825</span><span class="hljs-number">6.821</span><span class="hljs-number">6.817</span><span class="hljs-number">6.814</span><span class="hljs-number">6.812</span><span class="hljs-number">6.810</span>];<br><span class="hljs-built_in">plot</span>(D,E,<span class="hljs-string">&#x27;b*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>F=[<span class="hljs-number">9.5</span>,D];<br>[k1,b1]=linefit(D,E);<br>y1=polyval([k1,b1],F);<br><span class="hljs-built_in">plot</span>(F,y1,<span class="hljs-string">&#x27;b&#x27;</span>);<br><br><span class="hljs-comment">%连接中间两点作斜直线</span><br><span class="hljs-built_in">hold</span> on;<br>G=[<span class="hljs-number">9</span>,<span class="hljs-number">10</span>];<br>H=[<span class="hljs-number">6.323</span>,<span class="hljs-number">6.796</span>];<br>kk=H(<span class="hljs-number">2</span>)-H(<span class="hljs-number">1</span>);<br><span class="hljs-built_in">plot</span>(G,H,<span class="hljs-string">&#x27;b&#x27;</span>)<br><br><span class="hljs-comment">%绘制垂直直线</span><br><span class="hljs-built_in">hold</span> on;<br>line([<span class="hljs-number">9.5</span>,<span class="hljs-number">9.5</span>],[<span class="hljs-number">6.2</span>,<span class="hljs-number">7</span>],<span class="hljs-string">&#x27;linestyle&#x27;</span>,<span class="hljs-string">&#x27;--&#x27;</span>,<span class="hljs-string">&#x27;Color&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>);<br><br><span class="hljs-comment">%绘制两个交点圆点</span><br><span class="hljs-built_in">hold</span> on;<br>x1=<span class="hljs-number">9.5</span>;<br>y1=k*x1+b;<br><span class="hljs-built_in">plot</span>(x1,y1,<span class="hljs-string">&#x27;ro&#x27;</span>);<br>x2=<span class="hljs-number">9.5</span>;<br>y2=k1*x2+b1;<br><span class="hljs-built_in">plot</span>(x2,y2,<span class="hljs-string">&#x27;ro&#x27;</span>);<br><br><span class="hljs-comment">%绘制横纵坐标注释</span><br>xlabel(<span class="hljs-string">&#x27;t/min&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;△T/℃&#x27;</span>);<br><span class="hljs-comment">%title(&#x27;图1 标准曲线图&#x27;,&#x27;position&#x27;,[-0.7 200]);</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/t4EgzHlTJkKfOA5.png" alt="PC2" /></p><h2 id="5凝聚二组分"><a class="markdownIt-Anchor" href="#5凝聚二组分"></a> 5.凝聚二组分</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">A = <span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">1</span>;<br>B = [<span class="hljs-number">1.3613</span><span class="hljs-number">1.3631</span><span class="hljs-number">1.3649</span><span class="hljs-number">1.3678</span><span class="hljs-number">1.3701</span><span class="hljs-number">1.3722</span><span class="hljs-number">1.3748</span><span class="hljs-number">1.3767</span><span class="hljs-number">1.3792</span><span class="hljs-number">1.3815</span><span class="hljs-number">1.3822</span>];<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;bs&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>C=<span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">1</span>;<br>[k,b]=linefit(A,B);<br>y=polyval([k,b],C);<br><span class="hljs-built_in">plot</span>(C,y);<br><br>ylabel(<span class="hljs-string">&#x27;n^tD&#x27;</span>);<br>xlabel(<span class="hljs-string">&#x27;丙醇质量分数&#x27;</span>);<br><span class="hljs-comment">%title(&#x27;ln(P/Pa)-1/T图&#x27;);</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/gFnP8ASbiTfN6y5.png" alt="fig1" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB"><span class="hljs-comment">%沸点组成图</span><br>A = [<span class="hljs-number">0</span> <span class="hljs-number">6.33</span> <span class="hljs-number">26.24</span> <span class="hljs-number">41.18</span> <span class="hljs-number">54.75</span> <span class="hljs-number">69.68</span> <span class="hljs-number">77.38</span> <span class="hljs-number">100</span>];<br>B = [<span class="hljs-number">80.82</span> <span class="hljs-number">83.40</span> <span class="hljs-number">84.80</span> <span class="hljs-number">86.62</span> <span class="hljs-number">88.70</span> <span class="hljs-number">92.10</span> <span class="hljs-number">94.20</span> <span class="hljs-number">98.20</span>];<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;bs&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>a = <span class="hljs-built_in">linspace</span>(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>);<span class="hljs-comment">%曲线化</span><br>b = spline(A,B,a);<br><span class="hljs-comment">%plot(a,b,&#x27;b&#x27;);</span><br><span class="hljs-built_in">hold</span> on;<br><br><span class="hljs-comment">%气相</span><br>C = [<span class="hljs-number">0</span> <span class="hljs-number">1.81</span><span class="hljs-number">11.76</span><span class="hljs-number">20.36</span><span class="hljs-number">28.05</span><span class="hljs-number">53.39</span><span class="hljs-number">64.25</span> <span class="hljs-number">100</span>];<br>D = [<span class="hljs-number">80.82</span> <span class="hljs-number">83.40</span> <span class="hljs-number">84.80</span> <span class="hljs-number">86.62</span> <span class="hljs-number">88.70</span> <span class="hljs-number">92.10</span> <span class="hljs-number">94.20</span> <span class="hljs-number">98.20</span>];<br><span class="hljs-built_in">plot</span>(C,D,<span class="hljs-string">&#x27;b*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>a = <span class="hljs-built_in">linspace</span>(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>);<span class="hljs-comment">%曲线化</span><br>b = spline(C,D,a);<br><span class="hljs-comment">%plot(a,b,&#x27;b&#x27;);</span><br><span class="hljs-built_in">hold</span> on;<br><br>x=<span class="hljs-number">0</span>:<span class="hljs-number">1</span>:<span class="hljs-number">100</span>;<br>y1=<span class="hljs-number">0.00065</span>.*x.*x+<span class="hljs-number">0.1</span>.*x+<span class="hljs-number">82</span>;<br>y2=<span class="hljs-number">-0.00082</span>.*x.*x+<span class="hljs-number">0.24</span>.*x+<span class="hljs-number">82</span>;<br><span class="hljs-built_in">plot</span>(x,y1);<br><span class="hljs-built_in">plot</span>(x,y2);<br><br>aa = <span class="hljs-number">510</span>;<br>bb = <span class="hljs-number">0.324</span>;<br><span class="hljs-comment">%plot(aa,bb,&#x27;ro&#x27;);</span><br>axis([<span class="hljs-number">0</span>,<span class="hljs-number">100</span>,<span class="hljs-number">70</span>,<span class="hljs-number">100</span>]);<br>xlabel(<span class="hljs-string">&#x27;丙醇质量分数/%&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;沸点/℃&#x27;</span>);<br><span class="hljs-comment">%title(&#x27;ln(P/Pa)-1/T图&#x27;);</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/RK65hbxAZkFyGW4.png" alt="fg2" /></p><h2 id="6恒温槽"><a class="markdownIt-Anchor" href="#6恒温槽"></a> 6.恒温槽</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">A = <span class="hljs-number">0.5</span>:<span class="hljs-number">0.5</span>:<span class="hljs-number">14</span>;<br>B = [<span class="hljs-number">39.97</span><span class="hljs-number">40.21</span><span class="hljs-number">40.20</span><span class="hljs-number">40.16</span><span class="hljs-number">40.11</span><span class="hljs-number">40.08</span><span class="hljs-number">40.03</span><span class="hljs-number">40</span><span class="hljs-number">39.96</span><span class="hljs-number">39.92</span><span class="hljs-number">39.89</span><span class="hljs-number">39.85</span><span class="hljs-number">39.81</span><span class="hljs-number">39.83</span><span class="hljs-number">40.18</span><span class="hljs-number">40.22</span><span class="hljs-number">40.19</span><span class="hljs-number">40.15</span><span class="hljs-number">40.1</span><span class="hljs-number">40.07</span><span class="hljs-number">40.03</span><span class="hljs-number">39.99</span><span class="hljs-number">39.96</span><span class="hljs-number">39.92</span><span class="hljs-number">39.88</span><span class="hljs-number">39.84</span><span class="hljs-number">39.8</span><span class="hljs-number">39.91</span><br>];<br><span class="hljs-built_in">plot</span>(A,B,<span class="hljs-string">&#x27;bs&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>a1 = <span class="hljs-built_in">linspace</span>(<span class="hljs-number">0.5</span>,<span class="hljs-number">14.5</span>);<span class="hljs-comment">%曲线化</span><br>b1 = spline(A,B,a1);<br><span class="hljs-comment">%plot(a1,b1,&#x27;b&#x27;);</span><br><span class="hljs-comment">%hold on;</span><br>axis([<span class="hljs-number">0</span>,<span class="hljs-number">15</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40.5</span>]);<br><br>C = <span class="hljs-number">0.5</span>:<span class="hljs-number">0.5</span>:<span class="hljs-number">12</span>;<br>D = [<span class="hljs-number">40.16</span><span class="hljs-number">40.11</span><span class="hljs-number">40.08</span><span class="hljs-number">40.03</span><span class="hljs-number">40</span><span class="hljs-number">39.97</span><span class="hljs-number">39.93</span><span class="hljs-number">39.89</span><span class="hljs-number">39.85</span><span class="hljs-number">39.81</span><span class="hljs-number">39.78</span><span class="hljs-number">40.04</span><span class="hljs-number">40.03</span><span class="hljs-number">40</span><span class="hljs-number">39.97</span><span class="hljs-number">39.93</span><span class="hljs-number">39.89</span><span class="hljs-number">39.85</span><span class="hljs-number">39.82</span><span class="hljs-number">39.78</span><span class="hljs-number">40.03</span><span class="hljs-number">40.02</span><span class="hljs-number">39.97</span><span class="hljs-number">39.94</span><br>];<br><span class="hljs-built_in">plot</span>(C,D,<span class="hljs-string">&#x27;b*&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br><span class="hljs-built_in">plot</span>(a1,b1,<span class="hljs-string">&#x27;b&#x27;</span>);<span class="hljs-comment">%为了使用legend，把第一条曲线的平滑化调整到这个位置</span><br><span class="hljs-built_in">hold</span> on;<br>a2 = <span class="hljs-built_in">linspace</span>(<span class="hljs-number">0.5</span>,<span class="hljs-number">12</span>);<span class="hljs-comment">%曲线化</span><br>b2 = spline(C,D,a2);<br><span class="hljs-built_in">plot</span>(a2,b2,<span class="hljs-string">&#x27;b&#x27;</span>);<br><span class="hljs-built_in">hold</span> on;<br>axis([<span class="hljs-number">0</span>,<span class="hljs-number">15</span>,<span class="hljs-number">39</span>,<span class="hljs-number">40.5</span>]);<br><br>xlabel(<span class="hljs-string">&#x27;时间/min&#x27;</span>);<br>ylabel(<span class="hljs-string">&#x27;温度/℃&#x27;</span>);<br><span class="hljs-built_in">legend</span>(<span class="hljs-string">&#x27;220V&#x27;</span>,<span class="hljs-string">&#x27;110V&#x27;</span>);<span class="hljs-comment">%按顺序给出图注</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/10/10/FqmtXv1ekIL6Ji4.png" alt="fig1" /></p><h2 id="7matlab几种函数拟合的办法"><a class="markdownIt-Anchor" href="#7matlab几种函数拟合的办法"></a> 7.MATLAB几种函数拟合的办法</h2><h3 id="1线性拟合"><a class="markdownIt-Anchor" href="#1线性拟合"></a> 1.线性拟合</h3><p>因为最近在各种实验报告中比较常用的就是这种线性拟合，所以尝试了几种方法</p><p>无论是cftool工具箱还是figure工具里的基本拟合，都具有多种拟合，这里提供一个只针对线性拟合的代码方式</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">[k,b]</span>=<span class="hljs-title">linefit</span><span class="hljs-params">(x,y)</span></span><br>n=<span class="hljs-built_in">length</span>(x);<span class="hljs-comment">%获取x数组元素个数</span><br>x=<span class="hljs-built_in">reshape</span>(x,n,<span class="hljs-number">1</span>);<span class="hljs-comment">%把x转置为n行一列的矩阵</span><br>y=<span class="hljs-built_in">reshape</span>(y,n,<span class="hljs-number">1</span>);<span class="hljs-comment">%把y转置为n行一列的矩阵</span><br>A=[x,<span class="hljs-built_in">ones</span>(n,<span class="hljs-number">1</span>)];<span class="hljs-comment">%将x与同行数的列向量合并为一个n行2列的矩阵</span><br>bb=y;<br>B=A&#x27;*A;<span class="hljs-comment">%得到一个二行二列方阵</span><br>bb=A&#x27;*bb;<br>yy=B\bb;<br>k=yy(<span class="hljs-number">1</span>);<br>b=yy(<span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><p>这个拟合的方式归根结底是直接求加权，通过矩阵运算我们可以得出结果</p><p><img src="https://i.loli.net/2020/09/26/E4MBmAe3VOqIRZf.png" alt="img" /></p><h3 id="2使用cftool命令进行拟合工具箱处理多种拟合"><a class="markdownIt-Anchor" href="#2使用cftool命令进行拟合工具箱处理多种拟合"></a> 2.使用cftool命令进行拟合工具箱处理（多种拟合）</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt;cftool<span class="hljs-comment">%打开拟合工具箱</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/09/26/rWod7pgElmSzvkq.png" alt="image-20200926122543733" /></p><h3 id="3使用figure工具栏的拟合选项常用拟合"><a class="markdownIt-Anchor" href="#3使用figure工具栏的拟合选项常用拟合"></a> 3.使用figure工具栏的拟合选项（常用拟合）</h3><p>如图所示</p><img src="https://i.loli.net/2020/09/26/YidEXxLcqWFsD6j.png" alt="image-20200926122118920" style="zoom:67%;" /><img src="https://i.loli.net/2020/09/26/da9tgOyGbuJqkRX.png" alt="image-20200926122440849" style="zoom: 67%;" />]]></content>
    
    
    <categories>
      
      <category>Matlab</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Matlab基础</tag>
      
      <tag>绘图</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Matlab基础手册</title>
    <link href="/2020/03/11/Matlab%E5%9F%BA%E7%A1%80/"/>
    <url>/2020/03/11/Matlab%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h2 id="1图形界面使用"><a class="markdownIt-Anchor" href="#1图形界面使用"></a> 1.图形界面使用</h2><h3 id="11-系统环境"><a class="markdownIt-Anchor" href="#11-系统环境"></a> 1.1 系统环境</h3><p>与office很相似的界面，用功能区取代了传统的菜单式界面</p><h3 id="12主窗口"><a class="markdownIt-Anchor" href="#12主窗口"></a> 1.2主窗口：</h3><p>嵌入功能，功能区，工具条</p><h3 id="13命令行窗口"><a class="markdownIt-Anchor" href="#13命令行窗口"></a> 1.3命令行窗口：</h3><p>解释性，一个语句一个结果，和python命令行一样</p><p>如果需要输入多行命令再统一执行，在行末尾加上3个小数点&quot;…&quot;即可</p><p>称之为续航符</p><p>如果不想立即在命令行窗口中输出结果，可以在命令后加上分号&quot; ; &quot;</p><h3 id="14如何设置当前文件夹"><a class="markdownIt-Anchor" href="#14如何设置当前文件夹"></a> 1.4如何设置当前文件夹？</h3><p>（1）在当前文件夹工具栏或者当前文件夹窗口中选择某个文件夹当做当前文件夹</p><p>（2）使用cd命令</p><p>举个例子：</p><figure class="highlight matlab"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; cd e:\work<br></code></pre></td></tr></table></figure><p>就自动在E盘中取work文件夹为当前文件夹，后面的操作都在这个文件夹了，但是<strong>work必须是提前建立好的存在的文件夹</strong></p><h3 id="15工作区窗口"><a class="markdownIt-Anchor" href="#15工作区窗口"></a> 1.5工作区窗口</h3><p>工作区可以编辑、保存变量</p><h3 id="16搜索路径"><a class="markdownIt-Anchor" href="#16搜索路径"></a> 1.6搜索路径</h3><p>一般我们输入命令行后，MATLAB会按照顺序检测变量</p><p>顺序为：<strong>变量&gt;内部函数&gt;程序文件</strong></p><p>而程序文件的搜索顺序是：当前文件夹中搜索&gt;文件搜索路径文件夹中的程序文件</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt;clear<br>&gt;&gt;<span class="hljs-built_in">sin</span>=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>&gt;&gt;x=<span class="hljs-built_in">sin</span>(<span class="hljs-number">1</span>)<br>x=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>可见，Matlab没有调用内部函数sin，而是用了变量sin，这就是搜索顺序带来的影响，只有在工作区删去自己的sin函数，才能正常使用系统的sin函数</p><p>一般尽量避免这样设置变量名</p><h3 id="17如何设置文件搜索路径"><a class="markdownIt-Anchor" href="#17如何设置文件搜索路径"></a> 1.7如何设置文件搜索路径</h3><p>（1）用path命令</p><p>例如</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt;path(path,<span class="hljs-string">&#x27;e:\work&#x27;</span>)<br></code></pre></td></tr></table></figure><p>(2)用对话框设置</p><p>主页 &gt; “环境变量组”中的“设置路径 &gt; 设置自己的路径</p><p>这样的话MATLAB就能够搜索到用户自己的文件夹下的文件了，而不是只局限于当前文件夹，这避免了要把所有文件都复制到当前文件夹的麻烦操作</p><blockquote><p>问题1：如果在当前文件夹和搜索路径文件夹下建立了一个同名的m文件，那么在命令行窗口输入文件名时执行哪个文件？Answer：优先当前，再搜索路径，所以选当前</p></blockquote><blockquote><p>问题2：如果用户建立的文件既没有保存在当前文件夹下，也没有保存在文件搜索路径中，那么命令行窗口输入文件名时会出现什么信息？Answer：找不到，会报错</p></blockquote><h2 id="2数据类型"><a class="markdownIt-Anchor" href="#2数据类型"></a> 2.数据类型</h2><h3 id="21数值数据类型的分类"><a class="markdownIt-Anchor" href="#21数值数据类型的分类"></a> 2.1数值数据类型的分类：</h3><ul><li>整型</li></ul><p>uint8函数将数值数据转换为无符号8位整数，int8函数将数值数据转换为带符号的8位整数</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; x=int8(<span class="hljs-number">129</span>)<br>x = <br>   <span class="hljs-number">127</span>  <span class="hljs-comment">%越界了，有符号的最多到127</span><br>&gt;&gt; x=uint8(<span class="hljs-number">129</span>)<br>x = <br>   <span class="hljs-number">129</span>  <span class="hljs-comment">%没越界，无符号的最多到255</span><br></code></pre></td></tr></table></figure><ul><li>浮点型</li></ul><p>单精度型实数在内存中占用4个字节，而双精度型实数在内存中占用8个字节，所以说呢？双精度型的数据精度更高。</p><p><strong>数值数据类型默认是双精度型</strong></p><p>可以使用single函数将其他类型的数据转化为单精度类型</p><ul><li>复数型<ul><li>实数+ni或者nj，<strong>前提是i和j没有被定义成变量</strong></li><li>real函数：求复数的实部</li><li>image函数：求复数的虚部</li></ul></li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; <span class="hljs-number">6</span>+<span class="hljs-number">5</span><span class="hljs-built_in">i</span><br><span class="hljs-built_in">ans</span> = <br>  <span class="hljs-number">6.0000</span>+<span class="hljs-number">5.0000</span><span class="hljs-built_in">i</span><br>&gt;&gt; <span class="hljs-number">6</span>+<span class="hljs-number">5</span><span class="hljs-built_in">j</span><br><span class="hljs-built_in">ans</span> = <br>  <span class="hljs-number">6.0000</span>+<span class="hljs-number">5.0000</span><span class="hljs-built_in">j</span><br></code></pre></td></tr></table></figure><h3 id="22数值数据的输出格式"><a class="markdownIt-Anchor" href="#22数值数据的输出格式"></a> 2.2数值数据的输出格式</h3><ul><li>format命令的格式：format格式符，决定了数据的输出格式，但不影响数据计算和存储</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt;format long;<br>&gt;&gt;<span class="hljs-number">50</span>/<span class="hljs-number">3</span><br><span class="hljs-built_in">ans</span> = <br>  <span class="hljs-number">16.666666666666666</span> <span class="hljs-comment">%输出了15位</span><br>&gt;&gt;format;<br>&gt;&gt;<span class="hljs-number">50</span>/<span class="hljs-number">3</span><br><span class="hljs-built_in">ans</span> = <br><span class="hljs-number">16.6667</span> <span class="hljs-comment">%又回到了默认的输出格式short</span><br></code></pre></td></tr></table></figure><h3 id="23常用数学函数"><a class="markdownIt-Anchor" href="#23常用数学函数"></a> 2.3常用数学函数</h3><p>（1）函数调用格式：<strong>函数名（函数自变量的值）</strong></p><p>函数的自变量规定为矩阵变量，当然也可以是标量，因为标量本身就是矩阵的一种特例。</p><p>函数在运算时是将函数<strong>逐项作用于矩阵的每个元素上</strong>，所以最后运算的结果就是一个与自变量同型的矩阵。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt;A=[<span class="hljs-number">4</span>,<span class="hljs-number">2</span>;<span class="hljs-number">3</span>,<span class="hljs-number">6</span>]<br>A =<br>   <span class="hljs-number">4</span>  <span class="hljs-number">2</span><br>   <span class="hljs-number">3</span>  <span class="hljs-number">6</span><br>&gt;&gt;B=<span class="hljs-built_in">exp</span>(A)<br>B = <br>   <span class="hljs-number">54.5982</span>    <span class="hljs-number">7.3891</span><br>   <span class="hljs-number">20.0855</span>  <span class="hljs-number">403.4288</span><br></code></pre></td></tr></table></figure><p>（2）三角函数</p><p>三角函数分为以弧度为单位的函数和一角度为单位的函数，如果是以角度为单位的函数，就要在函数名后面加上小写字母d</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; <span class="hljs-built_in">sin</span>(<span class="hljs-built_in">pi</span>/<span class="hljs-number">2</span>)<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">1</span><br>&gt;&gt; <span class="hljs-built_in">sind</span>(<span class="hljs-number">90</span>)<br><span class="hljs-built_in">ans</span> =<br>   <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>（3）绝对值函数abs</p><p>可以用来求：实数的绝对值、复数的模、字符串的ASCII码值</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; <span class="hljs-built_in">abs</span>(<span class="hljs-number">-4</span>)<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">4</span><br>&gt;&gt; <span class="hljs-built_in">abs</span>(<span class="hljs-number">3</span>+<span class="hljs-number">4</span><span class="hljs-built_in">i</span>)<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">5</span><br>&gt;&gt;<span class="hljs-built_in">abs</span>(<span class="hljs-string">&#x27;a&#x27;</span>)<br><span class="hljs-built_in">ans</span> =<br>   <span class="hljs-number">97</span><br></code></pre></td></tr></table></figure><p>（4）取整函数</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; <span class="hljs-built_in">fix</span>（<span class="hljs-number">-3.2</span>）<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">-3</span>   <span class="hljs-comment">%fix是取更靠近0的那个数字</span><br>&gt;&gt; <span class="hljs-built_in">round</span>(<span class="hljs-number">4.7</span>)<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">5</span>    <span class="hljs-comment">%round是四舍五入的意思</span><br>&gt;&gt; <span class="hljs-built_in">floor</span>(<span class="hljs-number">3.6</span>)<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">3</span>    <span class="hljs-comment">%floor是地板的意思，向小取整</span><br>&gt;&gt; <span class="hljs-built_in">ceil</span>(<span class="hljs-number">-3.8</span>)<br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">-3</span>   <span class="hljs-comment">%ceil是天花板的意思，向大取整</span><br></code></pre></td></tr></table></figure><p>（5）求余</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; m=<span class="hljs-number">345</span>;<br>&gt;&gt; m1=<span class="hljs-built_in">rem</span>(m,<span class="hljs-number">10</span>)<br>m1 = <br>  <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p>（6）求1~100之间的素数</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt;x=<span class="hljs-number">1</span>:<span class="hljs-number">100</span>;    <span class="hljs-comment">%生成1-100之间的整数列</span><br>&gt;&gt;k=<span class="hljs-built_in">isprime</span>(x);    <br><span class="hljs-comment">%调用isprime函数生成k向量，k向量元素只取1&amp;0,1代表是素数</span><br>&gt;&gt;k1=<span class="hljs-built_in">find</span>(k);<br><span class="hljs-comment">%调用find函数生成k1向量，其元素为k向量中非零元素的序号</span><br>&gt;&gt;p = x(k1)<br>p =<br><br>  <span class="hljs-number">1</span> 至 <span class="hljs-number">8</span> 列<br><br>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">5</span>     <span class="hljs-number">7</span>    <span class="hljs-number">11</span>    <span class="hljs-number">13</span>    <span class="hljs-number">17</span>    <span class="hljs-number">19</span><br><br>  <span class="hljs-number">9</span> 至 <span class="hljs-number">16</span> 列<br><br>    <span class="hljs-number">23</span>    <span class="hljs-number">29</span>    <span class="hljs-number">31</span>    <span class="hljs-number">37</span>    <span class="hljs-number">41</span>    <span class="hljs-number">43</span>    <span class="hljs-number">47</span>    <span class="hljs-number">53</span><br><br>  <span class="hljs-number">17</span> 至 <span class="hljs-number">24</span> 列<br><br>    <span class="hljs-number">59</span>    <span class="hljs-number">61</span>    <span class="hljs-number">67</span>    <span class="hljs-number">71</span>    <span class="hljs-number">73</span>    <span class="hljs-number">79</span>    <span class="hljs-number">83</span>    <span class="hljs-number">89</span><br><br>  <span class="hljs-number">25</span> 列<br><br>    <span class="hljs-number">97</span><br><br></code></pre></td></tr></table></figure><h2 id="3变量"><a class="markdownIt-Anchor" href="#3变量"></a> 3.变量</h2><h3 id="31变量与命名规则"><a class="markdownIt-Anchor" href="#31变量与命名规则"></a> 3.1变量与命名规则</h3><p>变量从本质上讲是内存单元的一个抽象。通过给变量取名字，我们就能查找到内存单元所在。</p><p>规则：</p><p>（1）字母开头后接字母数字或者下划线，最多只能63个字符。</p><p>（2）MATLAB区分大小写，一般用小写</p><h3 id="32赋值"><a class="markdownIt-Anchor" href="#32赋值"></a> 3.2赋值</h3><p>（1）把表达式的值赋值给指定变量</p><p>（2）直接写表达式就默认付给MATLAB内部预先定义好的变量ans</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; x=<span class="hljs-built_in">sqrt</span>(<span class="hljs-number">7</span>)<span class="hljs-number">-2</span><span class="hljs-built_in">i</span>;    <span class="hljs-comment">%pi和i都是MATLAB自己预先定义好的变量</span><br>&gt;&gt; y=<span class="hljs-built_in">exp</span>(<span class="hljs-built_in">pi</span>/<span class="hljs-number">2</span>);<br>&gt;&gt; z=(<span class="hljs-number">5</span>+<span class="hljs-built_in">cosd</span>(<span class="hljs-number">47</span>))/(<span class="hljs-number">1</span>+<span class="hljs-built_in">abs</span>(x-y))<br><br>z =<br><br>    <span class="hljs-number">1.4395</span><br></code></pre></td></tr></table></figure><h3 id="33预定义变量"><a class="markdownIt-Anchor" href="#33预定义变量"></a> 3.3预定义变量</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-built_in">ans</span>     <span class="hljs-comment">%默认赋值变量</span><br><span class="hljs-built_in">i</span>和<span class="hljs-built_in">j</span>    <span class="hljs-comment">%虚数单位</span><br><span class="hljs-built_in">pi</span>      <span class="hljs-comment">%代表圆周率</span><br>NaN     <br><span class="hljs-comment">%代表非数，比如在画图的时候，想要裁掉一部分，就把要裁掉部分的坐标数据给设为NaN就可以了</span><br><br></code></pre></td></tr></table></figure><h3 id="34管理变量"><a class="markdownIt-Anchor" href="#34管理变量"></a> 3.4管理变量</h3><p>（1）在工作区窗口中完成对内存变量的删除和修改（右键）</p><p>（2）who和whos</p><p>主要用于显示已经驻留的变量名清单，后者不仅给出变量名称，还给出它们的大小，所占字节数以及数据类型等信息</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; whos<br>  Name      Size             Bytes  Class      Attributes<br><br>  k         <span class="hljs-number">1</span>x100              <span class="hljs-number">100</span>  logical              <br>  k1        <span class="hljs-number">1</span>x25               <span class="hljs-number">200</span>  double               <br>  p         <span class="hljs-number">1</span>x25               <span class="hljs-number">200</span>  double               <br>  x         <span class="hljs-number">1</span>x1                 <span class="hljs-number">16</span>  double     <span class="hljs-built_in">complex</span>   <br>  y         <span class="hljs-number">1</span>x1                  <span class="hljs-number">8</span>  double               <br>  z         <span class="hljs-number">1</span>x1                  <span class="hljs-number">8</span>  double               <br></code></pre></td></tr></table></figure><p>（3）内存变量文件</p><p>是指用于保存MATLAB工作区变量的文件，其扩展名  为.mat，也叫MAT文件</p><p>是MATLAB保存。数据的一个标准的二进制格式文件</p><p>如图所示的指令就可以把变量a和x保存在mydata.mat文件中</p><p>下次使用的时候，如果需要这次的这两个变量，就可以把刚才的mydata.mat文件装入工作空间，这两个变量就会变成已知变量</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; save mydata a x<br>&gt;&gt; load mydata    <span class="hljs-comment">%完成了把上次工作保存的a和x导入工作空间的操作</span><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; save mydata x y z  <span class="hljs-comment">%实验实例</span><br>&gt;&gt; clear<br>&gt;&gt; x<br>未定义函数或变量 <span class="hljs-string">&#x27;x&#x27;</span>。<br> <br>&gt;&gt; load mydata<br>&gt;&gt; x<br><br>x =<br><br>   <span class="hljs-number">2.6458</span> - <span class="hljs-number">2.0000</span><span class="hljs-built_in">i</span><br></code></pre></td></tr></table></figure><h3 id="35讨论题"><a class="markdownIt-Anchor" href="#35讨论题"></a> 3.5讨论题</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; <span class="hljs-built_in">ans</span>=<span class="hljs-number">5</span>;<br>&gt;&gt; <span class="hljs-number">10</span>;<br>&gt;&gt; <span class="hljs-built_in">ans</span>+<span class="hljs-number">10</span><br><span class="hljs-built_in">ans</span> = <br>   <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><h2 id="4矩阵"><a class="markdownIt-Anchor" href="#4矩阵"></a> 4.矩阵</h2><h3 id="41矩阵建立"><a class="markdownIt-Anchor" href="#41矩阵建立"></a> 4.1矩阵建立</h3><p>（1）直接输入法</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>;<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span><br>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span>     <span class="hljs-number">6</span><br>     <span class="hljs-number">7</span>     <span class="hljs-number">8</span>     <span class="hljs-number">9</span><br><br></code></pre></td></tr></table></figure><p>（2）以小扩大</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>;<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>];<br>&gt;&gt; B=[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>;<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>];<br>&gt;&gt; C=[A,B;B,A]<br><br>C =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span><br>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span>     <span class="hljs-number">6</span>     <span class="hljs-number">2</span>     <span class="hljs-number">2</span>     <span class="hljs-number">2</span><br>     <span class="hljs-number">7</span>     <span class="hljs-number">8</span>     <span class="hljs-number">9</span>     <span class="hljs-number">3</span>     <span class="hljs-number">3</span>     <span class="hljs-number">3</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span><br>     <span class="hljs-number">2</span>     <span class="hljs-number">2</span>     <span class="hljs-number">2</span>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span>     <span class="hljs-number">6</span><br>     <span class="hljs-number">3</span>     <span class="hljs-number">3</span>     <span class="hljs-number">3</span>     <span class="hljs-number">7</span>     <span class="hljs-number">8</span>     <span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><p>（3）复数矩阵</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>;<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>];<br>&gt;&gt; B=[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>;<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>];<br>&gt;&gt; C=A+B*<span class="hljs-built_in">i</span><br><br>C =<br><br>  <span class="hljs-number">1</span> 至 <span class="hljs-number">2</span> 列<br><br>   <span class="hljs-number">1.0000</span> + <span class="hljs-number">1.0000</span><span class="hljs-built_in">i</span>   <span class="hljs-number">2.0000</span> + <span class="hljs-number">1.0000</span><span class="hljs-built_in">i</span><br>   <span class="hljs-number">4.0000</span> + <span class="hljs-number">2.0000</span><span class="hljs-built_in">i</span>   <span class="hljs-number">5.0000</span> + <span class="hljs-number">2.0000</span><span class="hljs-built_in">i</span><br>   <span class="hljs-number">7.0000</span> + <span class="hljs-number">3.0000</span><span class="hljs-built_in">i</span>   <span class="hljs-number">8.0000</span> + <span class="hljs-number">3.0000</span><span class="hljs-built_in">i</span><br><br>  <span class="hljs-number">3</span> 列<br><br>   <span class="hljs-number">3.0000</span> + <span class="hljs-number">1.0000</span><span class="hljs-built_in">i</span><br>   <span class="hljs-number">6.0000</span> + <span class="hljs-number">2.0000</span><span class="hljs-built_in">i</span><br>   <span class="hljs-number">9.0000</span> + <span class="hljs-number">3.0000</span><span class="hljs-built_in">i</span><br></code></pre></td></tr></table></figure><p>（4）冒号表达式（产生的是行向量）</p><img src="https://i.loli.net/2020/08/25/THmVZb7YNqk4ghC.png" alt="image-20200622112802145" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; t=<span class="hljs-number">0</span>:<span class="hljs-number">1</span>:<span class="hljs-number">5</span>     <span class="hljs-comment">%最终生成6个元素的行向量</span><br><br>t =<br><br>     <span class="hljs-number">0</span>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span><br>     <br><span class="hljs-comment">%如果省略步长就表示默认步长为1</span><br><br>&gt;&gt; t=<span class="hljs-number">0</span>:<span class="hljs-number">5</span><br><br>t =<br><br>     <span class="hljs-number">0</span>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p>（5）linspace函数</p><img src="https://i.loli.net/2020/08/25/LVIUj8MfZJShH4w.png" alt="image-20200622113528803" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; x=<span class="hljs-built_in">linspace</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">pi</span>,<span class="hljs-number">6</span>)    <span class="hljs-comment">%最终生成6个元素的行向量</span><br><br>x =<br><br>  <span class="hljs-number">1</span> 至 <span class="hljs-number">5</span> 列<br><br>         <span class="hljs-number">0</span>    <span class="hljs-number">0.6283</span>    <span class="hljs-number">1.2566</span>    <span class="hljs-number">1.8850</span>    <span class="hljs-number">2.5133</span><br><br>  <span class="hljs-number">6</span> 列<br><br>    <span class="hljs-number">3.1416</span><br><br></code></pre></td></tr></table></figure><h3 id="42结构矩阵和单元矩阵"><a class="markdownIt-Anchor" href="#42结构矩阵和单元矩阵"></a> 4.2结构矩阵和单元矩阵</h3><p>结构矩阵的各个元素之下还有相应的成员，并且是不同的数据类型。</p><img src="https://i.loli.net/2020/08/25/Wny3q1jbaX5JeIg.png" alt="image-20200622113802951" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; a(<span class="hljs-number">1</span>).x1=<span class="hljs-number">10</span>;a(<span class="hljs-number">1</span>).x2=<span class="hljs-string">&#x27;liu&#x27;</span>;a(<span class="hljs-number">1</span>).x3=[<span class="hljs-number">11</span>,<span class="hljs-number">21</span>;<span class="hljs-number">34</span>,<span class="hljs-number">78</span>];<br>&gt;&gt; a(<span class="hljs-number">2</span>).x1=<span class="hljs-number">12</span>;a(<span class="hljs-number">2</span>).x2=<span class="hljs-string">&#x27;wang&#x27;</span>;a(<span class="hljs-number">2</span>).x3=[<span class="hljs-number">34</span>,<span class="hljs-number">191</span>;<span class="hljs-number">27</span>,<span class="hljs-number">578</span>];<br>&gt;&gt; a(<span class="hljs-number">3</span>).x1=<span class="hljs-number">14</span>;a(<span class="hljs-number">3</span>).x2=<span class="hljs-string">&#x27;cai&#x27;</span>;a(<span class="hljs-number">3</span>).x3=[<span class="hljs-number">13</span>,<span class="hljs-number">890</span>;<span class="hljs-number">67</span>,<span class="hljs-number">231</span>]<br><br>a = <br><br>  包含以下字段的 <span class="hljs-number">1</span>×<span class="hljs-number">3</span> struct 数组:    <span class="hljs-comment">%结构数组的意思</span><br><br>    x1<br>    x2<br>    x3<br></code></pre></td></tr></table></figure><img src="https://i.loli.net/2020/08/25/MHlX4pRmKkgN81E.png" alt="image-20200622114426866" style="zoom:80%;" /><p>而单元矩阵的元素就是不同类型的数据，用大括号</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; b=&#123;<span class="hljs-number">10</span>,<span class="hljs-string">&#x27;liu&#x27;</span>,[<span class="hljs-number">11</span>,<span class="hljs-number">21</span>;<span class="hljs-number">34</span>,<span class="hljs-number">78</span>];<span class="hljs-number">12</span>,<span class="hljs-string">&#x27;wang&#x27;</span>,[<span class="hljs-number">34</span>,<span class="hljs-number">191</span>;<span class="hljs-number">27</span>,<span class="hljs-number">578</span>];...<br><span class="hljs-number">14</span>,<span class="hljs-string">&#x27;cai&#x27;</span>,[<span class="hljs-number">13</span>,<span class="hljs-number">890</span>;<span class="hljs-number">67</span>,<span class="hljs-number">231</span>]&#125;<br><br>b =<br><br>  <span class="hljs-number">3</span>×<span class="hljs-number">3</span> cell 数组    <span class="hljs-comment">%元胞数组的意思</span><br><br>    &#123;[<span class="hljs-number">10</span>]&#125;    &#123;<span class="hljs-string">&#x27;liu&#x27;</span> &#125;    &#123;<span class="hljs-number">2</span>×<span class="hljs-number">2</span> double&#125;<br>    &#123;[<span class="hljs-number">12</span>]&#125;    &#123;<span class="hljs-string">&#x27;wang&#x27;</span>&#125;    &#123;<span class="hljs-number">2</span>×<span class="hljs-number">2</span> double&#125;<br>    &#123;[<span class="hljs-number">14</span>]&#125;    &#123;<span class="hljs-string">&#x27;cai&#x27;</span> &#125;    &#123;<span class="hljs-number">2</span>×<span class="hljs-number">2</span> double&#125;<br></code></pre></td></tr></table></figure><h3 id="43矩阵的引用"><a class="markdownIt-Anchor" href="#43矩阵的引用"></a> 4.3矩阵的引用</h3><h4 id="431通过下标来引用矩阵的元素"><a class="markdownIt-Anchor" href="#431通过下标来引用矩阵的元素"></a> 4.3.1通过下标来引用矩阵的元素</h4><p>比如A(3,2)表示A矩阵第三行第二列的元素,可以直接赋值</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>];<br>&gt;&gt; A(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)=<span class="hljs-number">10</span>       <span class="hljs-comment">%超出矩阵范围，自动扩展矩阵</span><br><br>A =    <span class="hljs-comment">%变成了四行五列</span><br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span>     <span class="hljs-number">6</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>    <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h4 id="432通过序号来引用"><a class="markdownIt-Anchor" href="#432通过序号来引用"></a> 4.3.2通过序号来引用</h4><p>在MATLAB中，矩阵元素按列存储，首先存储矩阵的第一列元素，然后存储第二列元素，一直到矩阵的最后一列元素</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span><br>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span>     <span class="hljs-number">6</span><br><br>&gt;&gt; A(<span class="hljs-number">3</span>)    <span class="hljs-comment">%序号为3的元素是2</span><br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>矩阵元素的序号与下标可以利用<code>sub2ind</code>和<code>ind2sub</code>函数实现相互转换。</p><img src="https://i.loli.net/2020/08/25/fbyGS7jWqHJ9aMN.png" alt="image-20200622121537749" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; A=[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>;<span class="hljs-number">4</span>:<span class="hljs-number">6</span>]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span><br>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span>     <span class="hljs-number">6</span><br>     <br>&gt;&gt; D=<span class="hljs-built_in">sub2ind</span>(<span class="hljs-built_in">size</span>(A),[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>;<span class="hljs-number">2</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>;<span class="hljs-number">3</span>,<span class="hljs-number">2</span>])<br><span class="hljs-comment">%功能分别是：</span><br><span class="hljs-comment">% size：获取A的大小（几行几列），并生成一个行向量</span><br><span class="hljs-comment">% I与J一一对应作为元素的下标去查找对应的元素，并把元素对应的序号值存入D中</span><br><span class="hljs-comment">% D收集到了序号值，生成行向量组矩阵（也就是横着展示出来）</span><br><span class="hljs-comment">% 举例：A的第一行的第一列是元素1，对应序号1，存入D中为1</span><br><span class="hljs-comment">%      A的第二行的第一列是元素4，对应序号为2，存入D中为2，以此类推</span><br><br>D =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span><br>     <span class="hljs-number">6</span>     <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><img src="https://i.loli.net/2020/08/25/MekIHs4KbwJEFZj.png" alt="image-20200622122847947" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; [I,J]=<span class="hljs-built_in">ind2sub</span>([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>]) <br><span class="hljs-comment">%意思是去查找一个3行3列的矩阵中序号为1、3、5的元素对应的角标，并把行数存入I中列数存入J中</span><br><br>I =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">3</span>     <span class="hljs-number">2</span><br><br><br>J =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span><br><br></code></pre></td></tr></table></figure><h4 id="433利用冒号表达式获得子矩阵"><a class="markdownIt-Anchor" href="#433利用冒号表达式获得子矩阵"></a> 4.3.3利用冒号表达式获得子矩阵</h4><img src="https://i.loli.net/2020/08/25/KVADhTJvx57boSt.png" alt="image-20200622123430969" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>;<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>;,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span><br>     <span class="hljs-number">6</span>     <span class="hljs-number">7</span>     <span class="hljs-number">8</span>     <span class="hljs-number">9</span>    <span class="hljs-number">10</span><br>    <span class="hljs-number">11</span>    <span class="hljs-number">12</span>    <span class="hljs-number">13</span>    <span class="hljs-number">14</span>    <span class="hljs-number">15</span><br><br>&gt;&gt; A(<span class="hljs-number">1</span>:<span class="hljs-number">2</span>,:)<br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span><br>     <span class="hljs-number">6</span>     <span class="hljs-number">7</span>     <span class="hljs-number">8</span>     <span class="hljs-number">9</span>    <span class="hljs-number">10</span><br><br>&gt;&gt; A(<span class="hljs-number">2</span>:<span class="hljs-number">3</span>,<span class="hljs-number">1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">5</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">6</span>     <span class="hljs-number">8</span>    <span class="hljs-number">10</span><br>    <span class="hljs-number">11</span>    <span class="hljs-number">13</span>    <span class="hljs-number">15</span><br><br><span class="hljs-comment">% end运算符对应最后一个的意思</span><br>&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>;<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>;<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>;<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">19</span>,<span class="hljs-number">20</span>];<br>&gt;&gt; A(<span class="hljs-keyword">end</span>,:)<br><br><span class="hljs-built_in">ans</span> =<br><br>    <span class="hljs-number">16</span>    <span class="hljs-number">17</span>    <span class="hljs-number">18</span>    <span class="hljs-number">19</span>    <span class="hljs-number">20</span><br><br>&gt;&gt; A([<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],<span class="hljs-number">3</span>:<span class="hljs-keyword">end</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">3</span>     <span class="hljs-number">4</span>     <span class="hljs-number">5</span><br>    <span class="hljs-number">18</span>    <span class="hljs-number">19</span>    <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><h4 id="434删除矩阵中的元素"><a class="markdownIt-Anchor" href="#434删除矩阵中的元素"></a> 4.3.4删除矩阵中的元素</h4><p>利用空矩阵</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; x=[]<br><br>x =<br><br>     []<br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>;<br>      <span class="hljs-number">7</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>;<br>      <span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">8</span>]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span>     <span class="hljs-number">3</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">7</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">2</span>     <span class="hljs-number">6</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">4</span>    <span class="hljs-number">-1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">8</span><br><br>&gt;&gt; A(:,[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>])=[]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">3</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">7</span>     <span class="hljs-number">0</span>     <span class="hljs-number">6</span><br>     <span class="hljs-number">1</span>    <span class="hljs-number">-1</span>     <span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><h4 id="435改变矩阵的形状"><a class="markdownIt-Anchor" href="#435改变矩阵的形状"></a> 4.3.5改变矩阵的形状</h4><p>reshape（A，m，n）：在矩阵总元素保持不变的前提下，将矩阵A重新排成mxn的二维矩阵</p><p>注意：Reshape函数值改变原矩阵的行数和列数，但并不改变原矩阵的元素个数及其存储顺序</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">11</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>,<span class="hljs-number">14</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>,<span class="hljs-number">17</span>,<span class="hljs-number">18</span>,<span class="hljs-number">19</span>,<span class="hljs-number">20</span>];<br>&gt;&gt; B=<span class="hljs-built_in">reshape</span>(A,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)<br><br>B =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">5</span>     <span class="hljs-number">9</span>    <span class="hljs-number">13</span>    <span class="hljs-number">17</span><br>     <span class="hljs-number">2</span>     <span class="hljs-number">6</span>    <span class="hljs-number">10</span>    <span class="hljs-number">14</span>    <span class="hljs-number">18</span><br>     <span class="hljs-number">3</span>     <span class="hljs-number">7</span>    <span class="hljs-number">11</span>    <span class="hljs-number">15</span>    <span class="hljs-number">19</span><br>     <span class="hljs-number">4</span>     <span class="hljs-number">8</span>    <span class="hljs-number">12</span>    <span class="hljs-number">16</span>    <span class="hljs-number">20</span><br>&gt;&gt; C=A(:)    <span class="hljs-comment">%将向量堆叠成一个列向量，等同于reshape（A,20,1）</span><br><br>C =<br><br>     <span class="hljs-number">1</span><br>     <span class="hljs-number">2</span><br>     <span class="hljs-number">3</span><br>     <span class="hljs-number">4</span><br>     <span class="hljs-number">5</span><br>     <span class="hljs-number">6</span><br>     <span class="hljs-number">7</span><br>     <span class="hljs-number">8</span><br>     <span class="hljs-number">9</span><br>    <span class="hljs-number">10</span><br>    <span class="hljs-number">11</span><br>    <span class="hljs-number">12</span><br>    <span class="hljs-number">13</span><br>    <span class="hljs-number">14</span><br>    <span class="hljs-number">15</span><br>    <span class="hljs-number">16</span><br>    <span class="hljs-number">17</span><br>    <span class="hljs-number">18</span><br>    <span class="hljs-number">19</span><br>    <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><h4 id="436讨论"><a class="markdownIt-Anchor" href="#436讨论"></a> 4.3.6讨论</h4><p>1）命令X=[]与clear X有何不同？请上机验证结论。</p><p><strong>命令X=[]是将X赋值为一个空矩阵，clear X是将X从工作区清除</strong></p><p>2）有以下语句，说出x1、x2、x3的区别，并上机验证结论。</p><p>x=[1:4;4,3,5,8]<br />x1=x(2:1)<br />x2=[]<br />x3=2:1<br />**提示：**依次执行下列语句，用isempty函数判断矩阵是否为空矩阵，用size函数确定矩阵每一维的大小，根据语句执行结果总结规律。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt;  x=[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>;<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">8</span>];   <span class="hljs-comment">%二行四列矩阵</span><br>&gt;&gt; x1=x(<span class="hljs-number">2</span>:<span class="hljs-number">1</span>);    <span class="hljs-comment">%只引用了x的行而没有引用列，所以x1是空的 1×0 double 行向量</span><br>&gt;&gt; x2=[];        <span class="hljs-comment">%给x2赋值为一个空矩阵，0行0列的空矩阵</span><br>&gt;&gt; x3=<span class="hljs-number">5</span>:<span class="hljs-number">1</span>;       <span class="hljs-comment">%是将x3赋值为从5到1步长为1的行向量，所以x3是空的 1×0 double 行向量</span><br>&gt;&gt; [<span class="hljs-built_in">isempty</span>(x),<span class="hljs-built_in">isempty</span>(x1),<span class="hljs-built_in">isempty</span>(x2),<span class="hljs-built_in">isempty</span>(x3)];<br>&gt;&gt; [<span class="hljs-built_in">size</span>(x);<span class="hljs-built_in">size</span>(x1);<span class="hljs-built_in">size</span>(x2);<span class="hljs-built_in">size</span>(x3)]<br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">2</span>     <span class="hljs-number">4</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">0</span>     <span class="hljs-comment">%一行零列</span><br>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">0</span><br><br>&gt;&gt; [<span class="hljs-built_in">isempty</span>(x),<span class="hljs-built_in">isempty</span>(x1),<span class="hljs-built_in">isempty</span>(x2),<span class="hljs-built_in">isempty</span>(x3)]<br><br><span class="hljs-built_in">ans</span> =<br><br>  <span class="hljs-number">1</span>×<span class="hljs-number">4</span> logical 数组<br><br>   <span class="hljs-number">0</span>   <span class="hljs-number">1</span>   <span class="hljs-number">1</span>   <span class="hljs-number">1</span><br><br>&gt;&gt; x1<br><br>x1 =<br><br>  空的 <span class="hljs-number">1</span>×<span class="hljs-number">0</span> double 行向量<br><br>&gt;&gt; x2<br><br>x2 =<br><br>     []<br><br>&gt;&gt; x3<br><br>x3 =<br><br>  空的 <span class="hljs-number">1</span>×<span class="hljs-number">0</span> double 行向量<br><br>&gt;&gt; <br></code></pre></td></tr></table></figure><h2 id="5matlab基本运算基于矩阵"><a class="markdownIt-Anchor" href="#5matlab基本运算基于矩阵"></a> 5.Matlab基本运算（基于矩阵）</h2><h3 id="51算术运算"><a class="markdownIt-Anchor" href="#51算术运算"></a> 5.1算术运算</h3><p>（1）基本算术运算：+、-、*、/、\、^等</p><p>加减要求矩阵同型，标量与矩阵进行加减，会自动广播</p><p>A列等于B行，才可以相乘</p><img src="https://i.loli.net/2020/08/25/siP7CtTKBwbnfye.png" alt="image-20200622175140841" style="zoom:67%;" /><img src="https://i.loli.net/2020/08/25/k9UH2XqO8ocgGFm.png" alt="image-20200622175312689" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br><br>A =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">2</span><br><br>&gt;&gt; A^<span class="hljs-number">2</span><br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">3</span>     <span class="hljs-number">6</span><br>     <span class="hljs-number">3</span>     <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><p>（2）点运算：主要分为，点乘、点左除、点右除、点平方</p><img src="https://i.loli.net/2020/08/25/uQCjimoKH8E3seW.png" alt="image-20200622175649939" style="zoom:67%;" /><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; A=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>;<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>];<br>&gt;&gt; B=[<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>;<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>];<br><span class="hljs-comment">%下面验证点乘和乘的区别</span><br>&gt;&gt; C=A.*B<br><br>C =<br><br>    <span class="hljs-number">-1</span>     <span class="hljs-number">0</span>     <span class="hljs-number">3</span><br>     <span class="hljs-number">4</span>    <span class="hljs-number">-5</span>     <span class="hljs-number">0</span><br>     <span class="hljs-number">0</span>     <span class="hljs-number">8</span>     <span class="hljs-number">9</span><br><br>&gt;&gt; D=A*B<br><br>D =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">4</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>    <span class="hljs-number">10</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>    <span class="hljs-number">16</span><br><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB"><span class="hljs-comment">%求当x等于0.1、0.4、0.7和1时，分别求y=sin（x）cos（x）的值</span><br>&gt;&gt; x=<span class="hljs-number">0.1</span>:<span class="hljs-number">0.3</span>:<span class="hljs-number">1</span>;<br>&gt;&gt; y=<span class="hljs-built_in">sin</span>(x).*<span class="hljs-built_in">cos</span>(x);<br>&gt;&gt; y<br><br>y =<br><br>    <span class="hljs-number">0.0993</span>    <span class="hljs-number">0.3587</span>    <span class="hljs-number">0.4927</span>    <span class="hljs-number">0.4546</span><br><br></code></pre></td></tr></table></figure><h3 id="52关系运算"><a class="markdownIt-Anchor" href="#52关系运算"></a> 5.2关系运算</h3><img src="https://i.loli.net/2020/08/25/HfUonKQYB8qv4FT.png" alt="image-20200622180522722" style="zoom:80%;" /><p>值为布尔值：0或1</p><p>当参与比较的量是两个同型的矩阵是比较，是对两矩阵进行相同位置的元素，按标量关系运算规则逐个进行最终的关系运算的结果是一个与原矩阵同型的矩阵。它的元素由0或1组成</p><p>当参与比较的一个是标量，另一个是矩阵式，则把标量与矩阵的每一个元素按标量关系运算规则逐个比较，最终的关系运算的结果是一个与原矩阵同型的矩阵，它的元素由0或1组成</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">D =<br><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>     <span class="hljs-number">4</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>    <span class="hljs-number">10</span><br>     <span class="hljs-number">1</span>     <span class="hljs-number">1</span>    <span class="hljs-number">16</span><br><br>&gt;&gt; P=<span class="hljs-built_in">rem</span>(D,<span class="hljs-number">2</span>)==<span class="hljs-number">0</span><br><br>P =<br><br>  <span class="hljs-number">3</span>×<span class="hljs-number">3</span> logical 数组<br><br>   <span class="hljs-number">0</span>   <span class="hljs-number">0</span>   <span class="hljs-number">1</span><br>   <span class="hljs-number">0</span>   <span class="hljs-number">0</span>   <span class="hljs-number">1</span><br>   <span class="hljs-number">0</span>   <span class="hljs-number">0</span>   <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h3 id="53逻辑运算"><a class="markdownIt-Anchor" href="#53逻辑运算"></a> 5.3逻辑运算</h3><p><strong>&amp;与、|或、~非</strong></p><p>在算数运算关系运算和逻辑运算中，算术运算的优先级最高，逻辑运算优先级最低，但逻辑非运算是单目运算，它的优先级比双目运算要高</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; ~(<span class="hljs-number">9</span>==<span class="hljs-number">1</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>  logical<br><br>   <span class="hljs-number">1</span><br><br>&gt;&gt; ~<span class="hljs-number">9</span>==<span class="hljs-number">1</span><br><br><span class="hljs-built_in">ans</span> =<br><br>  logical<br><br>   <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; m=<span class="hljs-number">100</span>:<span class="hljs-number">999</span>;<br>&gt;&gt; m1=<span class="hljs-built_in">rem</span>(m,<span class="hljs-number">10</span>);<br>&gt;&gt; m2=<span class="hljs-built_in">rem</span>(<span class="hljs-built_in">fix</span>(m/<span class="hljs-number">10</span>),<span class="hljs-number">10</span>);<br>&gt;&gt; m3=<span class="hljs-built_in">fix</span>(m/<span class="hljs-number">100</span>);<br>&gt;&gt; k=<span class="hljs-built_in">find</span>(m==m1.*m1.*m1+m2.*m2.*m2+m3.*m3.*m3)<br><span class="hljs-comment">%find函数找到水仙花数的序号赋值给变量k</span><br><br>k =<br><br>    <span class="hljs-number">54</span>   <span class="hljs-number">271</span>   <span class="hljs-number">272</span>   <span class="hljs-number">308</span><br><br>&gt;&gt; s=m(k)<br><br>s =<br><br>   <span class="hljs-number">153</span>   <span class="hljs-number">370</span>   <span class="hljs-number">371</span>   <span class="hljs-number">407</span><br></code></pre></td></tr></table></figure><h3 id="54字符串处理"><a class="markdownIt-Anchor" href="#54字符串处理"></a> 5.4字符串处理</h3><h4 id="541字符串简介"><a class="markdownIt-Anchor" href="#541字符串简介"></a> 5.4.1字符串简介</h4><p>在MATLAB中，字符串是用单引号括起来的字符序列</p><p>字符串也被当成一个行向量，在字符串中如果想输入单引号，就需要输入两个单引号才能被认为是单独的一个单引号</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; xm=<span class="hljs-string">&#x27;tianjin&#x27;</span><br><br>xm =<br><br>    <span class="hljs-string">&#x27;tianjin&#x27;</span><br><br>&gt;&gt; xm(<span class="hljs-number">1</span>:<span class="hljs-number">3</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>    <span class="hljs-string">&#x27;tia&#x27;</span><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; a=<span class="hljs-string">&#x27;tian&#x27;&#x27;jin&#x27;</span><br><br>a =<br><br>    <span class="hljs-string">&#x27;tian&#x27;</span>jin&#x27;<br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; ch=[<span class="hljs-string">&#x27;123456&#x27;</span>;<span class="hljs-string">&#x27;abcdef&#x27;</span>];<br>&gt;&gt; ch(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>    <span class="hljs-string">&#x27;c&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/08/25/pV1ctgwMjABd26X.png" alt="image-20200623105415990" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; ch=<span class="hljs-string">&#x27;ABc123&#x27;</span>;<br>&gt;&gt; subch=ch(<span class="hljs-number">1</span>:<span class="hljs-number">5</span>)<br><br>subch =<br><br>    <span class="hljs-string">&#x27;ABc12&#x27;</span><br><br>&gt;&gt; revch=ch(<span class="hljs-keyword">end</span>:<span class="hljs-number">-1</span>:<span class="hljs-number">1</span>)    <span class="hljs-comment">%步长为-1，从尾到头</span><br><br>revch =<br><br>    <span class="hljs-string">&#x27;321cBA&#x27;</span><br><br>&gt;&gt; k=<span class="hljs-built_in">find</span>(ch&gt;=<span class="hljs-string">&#x27;a&#x27;</span>&amp;ch&lt;=<span class="hljs-string">&#x27;z&#x27;</span>)<br><br>k =<br><br>     <span class="hljs-number">3</span><br><br>&gt;&gt; ch(k)=ch(k)-(<span class="hljs-string">&#x27;a&#x27;</span>-<span class="hljs-string">&#x27;A&#x27;</span>)<br><br>ch =<br><br>    <span class="hljs-string">&#x27;ABC123&#x27;</span><br><br>&gt;&gt; <span class="hljs-built_in">length</span>(k)<br><br><span class="hljs-built_in">ans</span> =<br></code></pre></td></tr></table></figure><h4 id="542函数"><a class="markdownIt-Anchor" href="#542函数"></a> 5.4.2函数</h4><p>（1）eval(s)这是一个进行字符串的执行的函数，它可以把字符串里面包含的内容直接进行执行</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; t=<span class="hljs-built_in">pi</span>;<br>&gt;&gt; m=<span class="hljs-string">&#x27;[t,sin(t),cos(t)]&#x27;</span>;    <span class="hljs-comment">%记得带中括号</span><br>&gt;&gt; y=eval(m)<br><br>y =<br><br>    <span class="hljs-number">3.1416</span>    <span class="hljs-number">0.0000</span>   <span class="hljs-number">-1.0000</span><br>    <br>&gt;&gt; eval(<span class="hljs-string">&#x27;sqrt(4)+2&#x27;</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p>（2）字符串与数值之间的转换</p><p><code>abs</code>和<code>double</code>都可以获取字符串矩阵的ASCII码值矩阵</p><p><code>char</code>函数可以把ASCII码矩阵转换成字符串矩阵</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; s1=<span class="hljs-string">&#x27;MATLAB&#x27;</span>;<br>&gt;&gt; a=<span class="hljs-built_in">abs</span>(s1)<br><br>a =<br><br>    <span class="hljs-number">77</span>    <span class="hljs-number">65</span>    <span class="hljs-number">84</span>    <span class="hljs-number">76</span>    <span class="hljs-number">65</span>    <span class="hljs-number">66</span><br><br>&gt;&gt; char(a+<span class="hljs-number">32</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>    <span class="hljs-string">&#x27;matlab&#x27;</span><br></code></pre></td></tr></table></figure><p>（3）比较字符串</p><p>字符串的比较有两种方法，利用关系运算符或者字符串比较函数</p><p>利用关系运算符进行比较，就是把两个字符串里的每个字符依次按照ASCII码值大小逐个进行比较，比较的结果呢是一个数值向量，向量中的元素要么是1要么是0</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">&gt;&gt; <span class="hljs-string">&#x27;www0&#x27;</span>&lt;=<span class="hljs-string">&#x27;w123&#x27;</span><br><br><span class="hljs-built_in">ans</span> =<br><br>  <span class="hljs-number">1</span>×<span class="hljs-number">4</span> logical 数组<br><br>   <span class="hljs-number">1</span>   <span class="hljs-number">0</span>   <span class="hljs-number">0</span>   <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>函数：</p><p><code>strcmp(s1,s2)</code>：用来比较两个字符串是否相等，如果相等返回结果为一，否则返回零</p><p><code>strncmp(s1,s2,n)</code>: 用来比较两个字符串前n个字符是否相等，如果相等，返回一，否则返回零</p><p><code>strcmpi(s1,s2)</code>: 在忽略字母大小写前提下比较字符串是否相等</p><p><code>strncmpi(s1,s2,n)</code>: 在忽略字母大小写前提下，比较前n个字符是否相等</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; strncmpi(<span class="hljs-string">&#x27;www&#x27;</span>,<span class="hljs-string">&#x27;123&#x27;</span>,<span class="hljs-number">2</span>)<br><br><span class="hljs-built_in">ans</span> =<br><br>  logical<br><br>   <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>(4)字符串的查找与替换</p><p><code>findstr(s1,s2)</code>: 返回短字符串在长字符串中的开始位置</p><p><code>strrep(s1,s2,s3)</code>: 将字符串s1中的所有子字符串s2替换为字符串s3</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; result=strrep(<span class="hljs-string">&#x27;this is test&#x27;</span>,<span class="hljs-string">&#x27;test&#x27;</span>,<span class="hljs-string">&#x27;class&#x27;</span>)<br><br>result =<br><br>    <span class="hljs-string">&#x27;this is class&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="6参考"><a class="markdownIt-Anchor" href="#6参考"></a> 6.参考</h2><blockquote><p>中南大学《Matlab与科学计算》</p><p>《Introduction  to Programming with MATLAB》on Coursera</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Matlab</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Matlab基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
